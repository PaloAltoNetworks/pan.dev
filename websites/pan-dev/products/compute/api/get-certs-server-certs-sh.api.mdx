---
id: get-certs-server-certs-sh
title: "Get Server Certificates"
description: "Retrieves the server certificate bundle from Prisma Cloud Compute that contains a chain of certificates."
sidebar_label: "Get Server Certificates"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: compute/api/prisma-cloud-compute-api
custom_edit_url: null
hide_send_button: true
show_extensions: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Get Server Certificates</h1>

<MethodEndpoint method={"get"} path={"/api/v1/certs/server-certs.sh"}></MethodEndpoint>



```
x-prisma-cloud-target-env: {"permission":"manageDefenders"}
```



Retrieves the server certificate bundle from Prisma Cloud Compute that contains a chain of certificates.

* Certificate Authority (CA) certificate in PEM
* RSA Private Key for server in PEM
* Server certificate in PEM
* Defender CA certificate in PEM
* Defender RSA Private Key for client in PEM
* Defender client certificate in PEM

### cURL Request

Refer to the following example cURL command:

```bash
$ curl -k \
  -H 'Content-Type: application/json' \
  -u <USER> \
  -X GET \
  "https://<CONSOLE>/api/v1/certs/server-certs.sh"
```
### cURL Response

```
#!/bin/sh
# Copy Certificate Authority
echo -n "-----BEGIN CERTIFICATE-----
MIIDHDCCAgSgAwIBAgIQDBOoX575aweiQ6j6I…hXgEM=
-----END CERTIFICATE-----
" > ca.pem
# Copy Server key
echo -n "-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-256-CBC,a7a8cbceec7e97d51c04ce03f1b4c4dc
HwlxgvmGJw068VUEletmSSBjE54Q+8BGcWuYc…3PjIj2nuD4PTtOULiuLnAoONb0
-----END RSA PRIVATE KEY-----
" > server-key.pem
# Copy Server Cert
echo -n "-----BEGIN CERTIFICATE-----
MIIDOjCCAiKgAwIBAgIRAOCRfG1Sot…5SY03wZf20LvAzrLTRLsIAbsivp0Ljmvt
drBPViPXgryvwhpnaxU=
-----END CERTIFICATE-----
" > server-cert.pem
# Copy the defender certificate authority
echo -n "-----BEGIN CERTIFICATE-----
MIIDHTCCAgWgAwIBAgIRAMAqTE7/cvmwb…xLx9lzxemN
-----END CERTIFICATE-----
" > defender-ca.pem
# Copy the defender client key
echo -n "-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-256-CBC,ab1bca8bc354c0866cfc26fd946c70b5

x1nwAJw5sbjoSL7aUpO3rP8IkMz63X1dD…3k1SVZSph63rRvv6d5O
-----END RSA PRIVATE KEY-----
" > defender-client-key.pem
# Copy the defender client cert
echo -n "-----BEGIN CERTIFICATE-----
MIIDJzCCAg+gAwIBAgIQcb6VdD45Jbla…6kXfxAvSiLTs4mhC1wg68ZSDUQ==
-----END CERTIFICATE-----
" > defender-client-cert.pem

```

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"OS is the target os.\n","in":"query","name":"os","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"IPs is the list of addresses for which the certificates are generated.\n","in":"query","name":"ip","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"Hostname is the target defender hostname.\n","in":"query","name":"hostname","schema":{"type":"string"}}}></ParamsItem></ul></div></details><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div></div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

integer

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"[\n  0\n]"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"default"} value={"default"}><div></div><div></div></TabItem></ApiTabs></div></div>
      