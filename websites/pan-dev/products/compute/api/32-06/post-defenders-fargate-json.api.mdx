---
id: post-defenders-fargate-json
title: "Generate a Protected JSON Fargate Task Definition"
description: "Returns a protected Fargate task definition given an unprotected task definition."
sidebar_label: "Generate a Protected JSON Fargate Task Definition"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: compute/api/32-06/prisma-cloud-compute-api
custom_edit_url: null
show_extensions: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Generate a Protected JSON Fargate Task Definition</h1>

<MethodEndpoint method={"post"} path={"/api/v32.06/defenders/fargate.json"}></MethodEndpoint>



```
x-prisma-cloud-target-env: {"permission":"manageDefenders"}
x-public: true
```



Returns a protected Fargate task definition given an unprotected task definition.

### cURL Request
Refer to the following example cURL command:

`<HOSTNAME>` is a single list item from the `/api/v<VERSION>/defenders/names` endpoint.

Unprotected task definition in `unprotected.json`

```bash
$ curl -k \
  -u <USER> \
  -H 'Content-Type: application/json' \
  -X POST \
  --data-binary "@unprotected.json"
  --output protected.json \
  "https://<CONSOLE>/api/v<VERSION>/defenders/fargate.json?consoleaddr=<HOSTNAME>&defenderType=appEmbedded"
```
Refer to the following example cURL command that accepts the task definition in JSON format for a CloudFormation template:

`<HOSTNAME>` is a single list item from the `/api/v<VERSION>/defenders/names` endpoint.

Unprotected task definition in `unprotected.json`

```bash
$ curl -k \
  -u <USER> \
  -H 'Content-Type: application/json' \
  -X POST \
  --data-binary "@unprotected.json"
  --output protected.json \
  "https://<CONSOLE>/api/v<VERSION>/defenders/fargate.json?cloudFormation=true&consoleaddr=<console_address>&filestemMonitoring=false&interpreter=&project=Central+Console"
```

### cURL Response
New Protected task will be in `protected.json`

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"ConsoleAddr is the remote console address.\n","in":"query","name":"consoleaddr","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"DefenderType is the type of the defender to create the install bundle for.\n","in":"query","name":"defenderType","schema":{"description":"Type is the type to be given at startup","enum":[["none","docker","dockerWindows","containerdWindows","swarm","daemonset","serverLinux","serverWindows","cri","fargate","appEmbedded","tas","tasWindows","serverless","ecs"]],"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"Interpreter is a custom interpreter set by the user to run the fargate defender entrypoint script.\n","in":"query","name":"interpreter","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"CloudFormation indicates if the given fargate task definition is in Cloud Formation format.\n","in":"query","name":"cloudFormation","schema":{"type":"boolean"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"FilesystemMonitoring is the filesystem monitoring flag.\n","in":"query","name":"filesystemMonitoring","schema":{"type":"boolean"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"ExtractEntrypoint indicates if entrypoint will be extracted automatically.\n","in":"query","name":"extractEntrypoint","schema":{"type":"boolean"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"RegistryType is the registry type for fetching image details needed to create fargate task definition (e.g., dockerhub).\n","in":"query","name":"registryType","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"RegistryCredentialID of the credentials in the credentials store to use for authenticating with the registry.\n","in":"query","name":"registryCredentialID","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"DefenderImage is the full path to the Defender image, if not specified Prisma's private registry is used.\n","in":"query","name":"defenderImage","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"DefenderImagePullSecret is the name of the secret required to pull the Defender image from private registry.\n","in":"query","name":"defenderImagePullSecret","schema":{"type":"string"}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem name={"property name*"} required={false} schemaName={"string (string)"} qualifierMessage={undefined} schema={{"type":"string","title":"string"}} collapsible={false} discriminator={false}></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>

FargateTask represents the generic fargate task AWS template

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem name={"property name*"} required={false} schemaName={"string (string)"} qualifierMessage={undefined} schema={{"type":"string","title":"string"}} collapsible={false} discriminator={false}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"default"} value={"default"}><div></div><div></div></TabItem></ApiTabs></div></div>
      