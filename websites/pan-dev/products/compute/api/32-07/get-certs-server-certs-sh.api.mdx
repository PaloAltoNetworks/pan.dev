---
id: get-certs-server-certs-sh
title: "Get Server Certificates"
description: "Retrieves the server certificate bundle from Prisma Cloud Compute that contains a chain of certificates."
sidebar_label: "Get Server Certificates"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: compute/api/32-07/prisma-cloud-compute-api
custom_edit_url: null
show_extensions: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Get Server Certificates</h1>

<MethodEndpoint method={"get"} path={"/api/v1/certs/server-certs.sh"}></MethodEndpoint>



```
x-prisma-cloud-target-env: {"permission":"manageDefenders"}
```



Retrieves the server certificate bundle from Prisma Cloud Compute that contains a chain of certificates.

* Certificate Authority (CA) certificate in PEM
* RSA Private Key for server in PEM
* Server certificate in PEM
* Defender CA certificate in PEM
* Defender RSA Private Key for client in PEM
* Defender client certificate in PEM

### cURL Request

Refer to the following example cURL command:

```bash
$ curl -k \
  -H 'Content-Type: application/json' \
  -u <USER> \
  -X GET \
  "https://<CONSOLE>/api/v1/certs/server-certs.sh"
```
### cURL Response

```
#!/bin/sh
# Copy Certificate Authority
echo -n "-----BEGIN CERTIFICATE-----
MIIDHDCCAgSgAwIBAgIQDBOoX575aweiQ6j6I…hXgEM=
-----END CERTIFICATE-----
" > ca.pem
# Copy Server key
echo -n "-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-256-CBC,a7a8cbceec7e97d51c04ce03f1b4c4dc
HwlxgvmGJw068VUEletmSSBjE54Q+8BGcWuYc…3PjIj2nuD4PTtOULiuLnAoONb0
-----END RSA PRIVATE KEY-----
" > server-key.pem
# Copy Server Cert
echo -n "-----BEGIN CERTIFICATE-----
MIIDOjCCAiKgAwIBAgIRAOCRfG1Sot…5SY03wZf20LvAzrLTRLsIAbsivp0Ljmvt
drBPViPXgryvwhpnaxU=
-----END CERTIFICATE-----
" > server-cert.pem
# Copy the defender certificate authority
echo -n "-----BEGIN CERTIFICATE-----
MIIDHTCCAgWgAwIBAgIRAMAqTE7/cvmwb…xLx9lzxemN
-----END CERTIFICATE-----
" > defender-ca.pem
# Copy the defender client key
echo -n "-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-256-CBC,ab1bca8bc354c0866cfc26fd946c70b5

x1nwAJw5sbjoSL7aUpO3rP8IkMz63X1dD…3k1SVZSph63rRvv6d5O
-----END RSA PRIVATE KEY-----
" > defender-client-key.pem
# Copy the defender client cert
echo -n "-----BEGIN CERTIFICATE-----
MIIDJzCCAg+gAwIBAgIQcb6VdD45Jbla…6kXfxAvSiLTs4mhC1wg68ZSDUQ==
-----END CERTIFICATE-----
" > defender-client-cert.pem

```

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"OS is the target os.\n","in":"query","name":"os","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"IPs is the list of addresses for which the certificates are generated.\n","in":"query","name":"ip","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"Hostname is the target defender hostname.\n","in":"query","name":"hostname","schema":{"type":"string"}}}></ParamsItem></ul></div></details><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div></div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

integer

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"[\n  0\n]"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"default"} value={"default"}><div></div><div></div></TabItem></ApiTabs></div></div>
      