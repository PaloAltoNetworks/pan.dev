---
id: put-settings-coderepos
title: "Update Code Repository Settings"
description: "Updates the code repositories to scan."
sidebar_label: "Update Code Repository Settings"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "put api-method"
info_path: compute/api/31-02/prisma-cloud-compute-api
custom_edit_url: null
hide_send_button: true
show_extensions: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Update Code Repository Settings</h1>

<MethodEndpoint method={"put"} path={"/api/v31.02/settings/coderepos"}></MethodEndpoint>



```
x-prisma-cloud-target-env: {"permission":"policyCodeRepos","saas":true,"self-hosted":true}
x-public: true
```



Updates the code repositories to scan.
The list of code repositories to scan is updated in a single shot.

To invoke this endpoint in the Console UI:

1. Navigate to **Defend > Vulnerabilities > Code repositories**.
2. Under the **GitHub repositories scan scope** table, add a scope item using **+ Add scope**
  
   **Note:** If your table is not present add an item to the table by clicking **Add the first item**.

3. Click the **Save** button.

### General Set up and Scan Process

This endpoint works hand-in-hand with the `/policies` endpoints.

**To set up Prisma Cloud to scan your code repositories:**

1. Add a scan scope with this endpoint (`/settings/coderepos`), where the principle component is the account information for the service that hosts your code repositories.

   For example, specify the the credentials of your GitHub account.
   You can further refine the scope by specifying which repos to scan using explicit strings or pattern matching.
   Scan all repos by specifying a wildcard.

2. Prisma Cloud auto-discovers all code repositories in each scan scope.

   The system invokes the GET `/coderepos/discover` endpoint to discover the available repositories using the credential ID provided.

3. The list of auto-discovered code repositories is passed to the scanner for evaluation.
  
   The scanner uses the corresponding `/policies/vulnerability/coderepos` endpoint to assess each code repository.

### cURL Request

Each scan scope is specified as an element in the endpoint's payload array.
Itemize the repositories to scan in the `repositories` array.
A wildcard tells Prisma Cloud to scan all repos in the account.

The critical fields for this endpoint are:

* `type` - Hosting service, such as GitHub (`github`)
* `credentialID` - Credential, from the credentials store, that Prisma Cloud uses to authenticate with the hosting service.
* `repositories` - List of repository names.
The format is `<owner>/<repo_name>`.

Refer to the following example cURL command that overwrites all code repository scan scopes with a single new scan scope:

```bash
$ curl 'https://<CONSOLE>/api/v<VERSION>/settings/coderepos' \
  -k \
  -X PUT \
  -u <USER> \
  -H 'Content-Type: application/json' \
  -d \
'[
   {
      "type":"github",
      "publicOnly":false,
      "credentialID":"<CREDENTIAL_ID>",
      "repositories":[
         "*"
      ]
   }
]'
```
This scan scope includes all repositories in the GitHub account that can be accessed with `CREDENTIAL_ID`.

**Note:** No response will be returned upon successful execution.


## Request

<MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><span style={{"opacity":"0.6"}}> array</span></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"credentialID"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"ID of the credentials in the credentials store to use for authenticating with the code repo service provider.\n","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"excludedManifestPaths"} required={false} schemaName={"string (string)[]"} qualifierMessage={undefined} schema={{"description":"Paths in the repository the scanner ignores when looking for manifest files to evaluate.\n","items":{"type":"string","title":"string"},"type":"array"}}></SchemaItem><SchemaItem collapsible={false} name={"explicitManifestNames"} required={false} schemaName={"string (string)[]"} qualifierMessage={undefined} schema={{"description":"Additional manifest files for the scanner to evaluate. Explicitly specify manifest filenames when you use non-standard naming schemes. (e.g., prod-requirements.txt).\n","items":{"type":"string","title":"string"},"type":"array"}}></SchemaItem><SchemaItem collapsible={false} name={"publicOnly"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"description":"Indicates whether this specification is meant for (unauthenticated) public-only scanning (true) or private as well (false).\n","type":"boolean"}}></SchemaItem><SchemaItem collapsible={false} name={"repositories"} required={false} schemaName={"string (string)[]"} qualifierMessage={undefined} schema={{"description":"Repository names to scan. The format is <owner>/<repo_name>.\n","items":{"type":"string","title":"string"},"type":"array"}}></SchemaItem><SchemaItem collapsible={false} name={"targetPythonVersion"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Python version to consider when resolving Python dependencies. The default value is the latest version.\n","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"type"} required={false} schemaName={"shared.CodeRepoProviderType (string)"} qualifierMessage={"**Possible values:** [`github,CI`]"} schema={{"description":"CodeRepoProviderType is the type of provider for the code repository, e.g., GitHub, GitLab etc","enum":[["github","CI"]],"type":"string","title":"shared.CodeRepoProviderType"}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></ul></details></TabItem></MimeTabs><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>

OK

</div><div></div></TabItem><TabItem label={"default"} value={"default"}><div></div><div></div></TabItem></ApiTabs></div></div>
      