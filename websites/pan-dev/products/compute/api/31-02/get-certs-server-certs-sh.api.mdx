---
id: get-certs-server-certs-sh
title: "Get Server Certificates"
description: "Retrieves the server certificate bundle from Prisma Cloud Compute that contains a chain of certificates."
sidebar_label: "Get Server Certificates"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: compute/api/31-02/prisma-cloud-compute-api
custom_edit_url: null
hide_send_button: true
show_extensions: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Get Server Certificates</h1>

<MethodEndpoint method={"get"} path={"/api/v1/certs/server-certs.sh"}></MethodEndpoint>



```
x-prisma-cloud-target-env: {"permission":"manageDefenders","saas":true,"self-hosted":true}
```



Retrieves the server certificate bundle from Prisma Cloud Compute that contains a chain of certificates.

* Certificate Authority (CA) certificate in PEM
* RSA Private Key for server in PEM
* Server certificate in PEM
* Defender CA certificate in PEM
* Defender RSA Private Key for client in PEM
* Defender client certificate in PEM

### cURL Request

Refer to the following example cURL command:

```bash
$ curl -k \
  -H 'Content-Type: application/json' \
  -u <USER> \
  -X GET \
  "https://<CONSOLE>/api/v1/certs/server-certs.sh"
```
### cURL Response

```
#!/bin/sh
# Copy Certificate Authority
echo -n "-----BEGIN CERTIFICATE-----
MIIDHDCCAgSgAwIBAgIQDBOoX575aweiQ6j6I…hXgEM=
-----END CERTIFICATE-----
" > ca.pem
# Copy Server key
echo -n "-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-256-CBC,a7a8cbceec7e97d51c04ce03f1b4c4dc
HwlxgvmGJw068VUEletmSSBjE54Q+8BGcWuYc…3PjIj2nuD4PTtOULiuLnAoONb0
-----END RSA PRIVATE KEY-----
" > server-key.pem
# Copy Server Cert
echo -n "-----BEGIN CERTIFICATE-----
MIIDOjCCAiKgAwIBAgIRAOCRfG1Sot…5SY03wZf20LvAzrLTRLsIAbsivp0Ljmvt
drBPViPXgryvwhpnaxU=
-----END CERTIFICATE-----
" > server-cert.pem
# Copy the defender certificate authority
echo -n "-----BEGIN CERTIFICATE-----
MIIDHTCCAgWgAwIBAgIRAMAqTE7/cvmwb…xLx9lzxemN
-----END CERTIFICATE-----
" > defender-ca.pem
# Copy the defender client key
echo -n "-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-256-CBC,ab1bca8bc354c0866cfc26fd946c70b5

x1nwAJw5sbjoSL7aUpO3rP8IkMz63X1dD…3k1SVZSph63rRvv6d5O
-----END RSA PRIVATE KEY-----
" > defender-client-key.pem
# Copy the defender client cert
echo -n "-----BEGIN CERTIFICATE-----
MIIDJzCCAg+gAwIBAgIQcb6VdD45Jbla…6kXfxAvSiLTs4mhC1wg68ZSDUQ==
-----END CERTIFICATE-----
" > defender-client-cert.pem

```

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"OS is the target os.\n","in":"query","name":"os","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"IPs is the list of addresses for which the certificates are generated.\n","in":"query","name":"ip","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"Hostname is the target defender hostname.\n","in":"query","name":"hostname","schema":{"type":"string"}}}></ParamsItem></ul></div></details><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div></div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

integer

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"[\n  0\n]"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"default"} value={"default"}><div></div><div></div></TabItem></ApiTabs></div></div>
      