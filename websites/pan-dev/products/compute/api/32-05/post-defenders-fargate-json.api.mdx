---
id: post-defenders-fargate-json
title: "Generate a Protected JSON Fargate Task Definition"
description: "Returns a protected Fargate task definition given an unprotected task definition."
sidebar_label: "Generate a Protected JSON Fargate Task Definition"
hide_title: true
hide_table_of_contents: true
api: eJztGf1T2zj2X9G4d7Tl8gHtdWYnA+ylSbpwS0OGwHVvmg5WbCXRYks+SSbkGP73e0+yHTuQtHxc94dtZwrIfn563583Xsh0oHhiuBReyztlJlVCE0oSJQ0LDAvJB6qm1DBiqL4kIZtwwRGaTPkVE4QKkool8ApQYyRG4sWLFyQ4Pz0mp+w/KdNmJE7ZhCliJDEzRiYyiuSciylh1zROIuaAAxnHVIQtxODvHZ4Mz/rtj70Dn3AkTwM8QEZcG8INi8lEydii85s04c2rvX/1TodHJ/2DJlDDRMiUbgoaM+0TOCWSC2OJO19PPOGC+CXmGr9rKXxLj++PqZ6NxF9IkKqI1C/JaDQShNRTsnc+7J0e5OdD8rIjhWHC1M8WCWsRmiQRDyjibyK+lznkb2QAPOanekgNrY+5oGpBRt4/VskYeQ5MpiZJDam+zJCMvJkxiW41m3udk/7w5Lh3sF42E6dl+/3PgRRaRoyGodpfin4rh0ZO9oGRXjxmYchCJAZE8iC9Agg1hAYBS4y28PdI/5/Dkz7gUTGAwi/QeyeSafjBPkEY0HwSAdk/rOSPsJKKLvaNStlWxXKywwWemNYHWxMegf+z+KME2UkF2tmf0EizLZAzU4li8HN/C8j8Hcjc74A8FI3+1nFoCiurRBSdwFs2En02J4OqjuY8isiYWQWtqMereQlVoGi4UHutzzcrcTC7sg2EoyWhxSgWAwqS8UQynsA6ABfHbyC2qQUc0H7gWJIEPNTBjMXUa914BhQMr7VB9r3b29rq3d2Sl+WX40dETuzfuTbQzwLFbGieIZfaUGQ4FWGE3qfW01Z25ApxVUruUAA3gjyzwG8IXKhMmgAGJtIYxPjZE1IgxlAGl0wVf3ziIpRzDWeQiqFcMBUun+k5VTHCUhAxKNPgM6aumDrmIr0uTiUsisPPzBjhr1IsghMo3/0sXWERgPHhgQXa+/Kl9nVNHC2t0sWTINUGAkjJWgmQS8YLK6JUO6WoVLgAmCXOQmFozwsbVIi7Zr2GSlc8zHpWAiRIAOMI04Q763HKm6zJ6cAleIvFQZZIXATeYOqVO++jdyzRFcR9BH/AmLCoRoXc6CbFOxIvX04iOl1PzOQefA8kqXcNcScwvaW6KmIsqTEPMcx9AZGHpmAhIIcAfHGxnkq2esUDSTxlU0hqalF2UZU9c76K+XLCTDCz8ozpFA0RfC/SRDAWYpAs4sc6c3jFGtNGjTgnnqXj1+sZUiWCHmaxOSsdBVQJw2l01M1jXVA8s4a5+gi8UdmoBK7nCoQUQISxqRPYnnMzq4jm6/SXqXhc3D6yss4tOAUDSSiS4aqiHMqppIb2JCTEg4QFfMJBKwPFdUxfasjW/AqVUqgVUAKf4dfDuqXgCcQPgOghA0GbnA28INeJdm8UFPNcOTNKkMu73Llya5WPb6R/ScRGTiCOK9dWvJfhAiECV0nhn6tlFD5booLUbM2cRlA4JEwZzvTdKyBPcBOV76ytRjDnPWfoPIpB0NZwvZPblEGq40HVwdqfhkXh6hVpSI6x6CldB8SzLKk1SlcAz6A/YNpVPpbiNzs7fxLOn5UCi21C08jcrX3QSaCGmGJ1WHgH1A0177qeWBet27RXhxpoykydiStEAsKMudYOB/Q5YMjLj8GOKdQmLayUsSaJJvWZhEwVuke3Fnc6BsXlMKgcq8QjgPESAK4XxXi9XIxjWXMNysebXUF7ycAbNhBb865olLInE42xpLjLEV+gtgAgMqizZzLnwNbeZgYn12e8fdPYebemxwBY/HW69PCe6yWB7FsMIhNp7TYzHBc7s/qlI2NoehhpD46QIkDtGLT3NXbf/N1bNaYX5FDOMZ4xpB9tpmiJsOtoZ0Eub2cBcd7N5tkJ0hAkyzS2Ruhi+gLqRr/A45MrqjgdRxD65zMezFatNusrbDbLuhAImGfwplPtPFztEbIExEYgV8+A9BxkTnXeD9h8gR0T1nNkSOmQHLk31q40vjyTUGkBloVMVYVWm7hc422/BLvhSgpkz3bcuw1yLKdYD8sSsW8apE+vuHM6Sba3M01sb5MDOH20BpYdhrZSyw5dOReRpKHe3gY0bxvk3zIlARWbqMPeHpJQarPO9vYgS7UZNYAIrIEHl5aKZAEXwUtIXMFltADlJa5yzxO0vSKIeDKWVDnB7fF4SrQK9kd5R3eB/tBIxHTkERqZ5Qs4z3loZvBkd2fnryOvac2mLP6l99zVAgKU3KssbF2zZK4zb8zS7Bp8i1lLSKQyxP9p56e3Pnl1eHY2GL62JgRQ9hXXpXKDmqJzNDx2zbKZg1AjKPoawWTqWzFsgwBfdV2wfE1+TcdMCWbr4TIbLZBvboPYcvGAlWkboy8cg4Lf04iKgGGHOjL4H+3bxgxrbWUlZwVI+atssuQQlpi1JjkybkZgiqnG8Um7e/G+fdzud3qnBy0EXYJZxk4EG8vr9awUroTSpdj2irBOI2h1Ceqq4e79Kg9Hg8J3AaDbH1bKKsT0QM6OBhftbve0NxzeYesFOcfhl6uYcfhUzOCygOXsEmm2g5T8NZLOKISlfPyFxAeOeVtNU9vmWsJf+cUgy38NorH9ToER/RY6o1iGztCyKp2KRc5xMSBs5Ypol8p3EPWZvGQCFXGu3YzDrx/6RCZu9AdlJ9VZ0Kx+Z/C7O7O+3WYJjPklDkVWm2eFJJkxGjrjtE6ZyaaGoTqiYNL+XrvTAalfnJ382uuDgos+42E3NzZMCXEmiOKA/vW/lqsWec+oAuuvXu4mg+W54Jpx3m5zr9fvDk6O+mcXg/bZ4UExTUPJn+dKxdHsAOQ6lyqsij717Uu/nuQ60KgELoIoDVkxASmwJBmWGmERj7lwLZntJpizB4ZDDtw1ZJAYfCj2F1KEONGEMJhs0oIzvaX0i+tdverI3Ru0h8NPJ6fdMmRxo4PcqIjKsLaekCXCZxb9CXgQitxGapvdsx6rYA67wpxyN4uzIsQwrp9Tcg+Qx5O43+5LwwqW7Ygtxo4eGEnhlysbcVMgMjPLLahkhDjkB55s6jZYyEJXQwCdkSCHuRQvDcmGjhXNN7LEbPMnxGTgOyhS8UgM6BQtFiTr3tvAAPQBVQG2J1b+QC29xmj2bgdAcHOGKcJ2MxqUE1AMeFB4LkiEdTcpejagKI1C0pXDUtk0EkeTLAw5sJxu7YRixQA3ZRfUSLAIInysZDp1agwgojLLxlK1vpxMNDM+sc02KcbedlLJgG12xdwFGeJGxWpamSlsUK/t9fXP6ORm/93Olrtw/7fsO2yzsO6HtIO1etbr/4LdGVaItDS2t/uefN9oe7puMYxardZL7e6PteWPhdSPteUPK/kzrC2zmZlh16YJNsRteAU12TmOHat89kAOOPGwgw4bNpeznMpw5UvNw64DP7m5AZ2zcxXd3uJjN5i1e1GucVoRei3L8oYg/MCd6b2MuEFSdXWazZI8z06tv5mcZ16jbiB3ZZv6SHq/07JxAx/VneMj2fh/7x83mc3qGvKRLDxlI7mBvDWLyUcS+cw7yg1037eqfCTRf+jWcgOLK8vLJ3L3/RaZ38DSyj7zicH0++w2vyHW5ivO5+Dne6w7v5WlytZzydwXPLi9AWTlL/Ctm1GVNj3lSqz07Z1F4HJf07ZV7EbY8u4GKzgAHmdr1liGdm9O5/AQfwKduLAybgN1457deBEV0xSV1fIcTvz3P/IF9C8=
sidebar_class_name: "post api-method"
info_path: compute/api/32-05/prisma-cloud-compute-api
custom_edit_url: null
show_extensions: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Generate a Protected JSON Fargate Task Definition</h1>

<MethodEndpoint method={"post"} path={"/api/v32.05/defenders/fargate.json"}></MethodEndpoint>



```
x-prisma-cloud-target-env: {"permission":"manageDefenders","saas":true,"self-hosted":true}
x-public: true
```



Returns a protected Fargate task definition given an unprotected task definition.

### cURL Request
Refer to the following example cURL command:

`<HOSTNAME>` is a single list item from the `/api/v<VERSION>/defenders/names` endpoint.

Unprotected task definition in `unprotected.json`

```bash
$ curl -k \
  -u <USER> \
  -H 'Content-Type: application/json' \
  -X POST \
  --data-binary "@unprotected.json"
  --output protected.json \
  "https://<CONSOLE>/api/v<VERSION>/defenders/fargate.json?consoleaddr=<HOSTNAME>&defenderType=appEmbedded"
```
Refer to the following example cURL command that accepts the task definition in JSON format for a CloudFormation template:

`<HOSTNAME>` is a single list item from the `/api/v<VERSION>/defenders/names` endpoint.

Unprotected task definition in `unprotected.json`

```bash
$ curl -k \
  -u <USER> \
  -H 'Content-Type: application/json' \
  -X POST \
  --data-binary "@unprotected.json"
  --output protected.json \
  "https://<CONSOLE>/api/v<VERSION>/defenders/fargate.json?cloudFormation=true&consoleaddr=<console_address>&filestemMonitoring=false&interpreter=&project=Central+Console"
```

### cURL Response
New Protected task will be in `protected.json`

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"ConsoleAddr is the remote console address.\n","in":"query","name":"consoleaddr","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"DefenderType is the type of the defender to create the install bundle for.\n","in":"query","name":"defenderType","schema":{"description":"Type is the type to be given at startup","enum":[["none","docker","dockerWindows","containerdWindows","swarm","daemonset","serverLinux","serverWindows","cri","fargate","appEmbedded","tas","tasWindows","serverless","ecs"]],"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"Interpreter is a custom interpreter set by the user to run the fargate defender entrypoint script.\n","in":"query","name":"interpreter","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"CloudFormation indicates if the given fargate task definition is in Cloud Formation format.\n","in":"query","name":"cloudFormation","schema":{"type":"boolean"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"FilesystemMonitoring is the filesystem monitoring flag.\n","in":"query","name":"filesystemMonitoring","schema":{"type":"boolean"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"ExtractEntrypoint indicates if entrypoint will be extracted automatically.\n","in":"query","name":"extractEntrypoint","schema":{"type":"boolean"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"RegistryType is the registry type for fetching image details needed to create fargate task definition (e.g., dockerhub).\n","in":"query","name":"registryType","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"RegistryCredentialID of the credentials in the credentials store to use for authenticating with the registry.\n","in":"query","name":"registryCredentialID","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"DefenderImage is the full path to the Defender image, if not specified Prisma's private registry is used.\n","in":"query","name":"defenderImage","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"DefenderImagePullSecret is the name of the secret required to pull the Defender image from private registry.\n","in":"query","name":"defenderImagePullSecret","schema":{"type":"string"}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem name={"property name*"} required={false} schemaName={"string (string)"} qualifierMessage={undefined} schema={{"type":"string","title":"string"}} collapsible={false} discriminator={false}></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>

FargateTask represents the generic fargate task AWS template

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem name={"property name*"} required={false} schemaName={"string (string)"} qualifierMessage={undefined} schema={{"type":"string","title":"string"}} collapsible={false} discriminator={false}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"default"} value={"default"}><div></div><div></div></TabItem></ApiTabs></div></div>
      