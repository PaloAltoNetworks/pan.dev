---
id: get-certs-server-certs-sh
title: "Get Server Certificates"
description: "Retrieves the server certificate bundle from Prisma Cloud Compute that contains a chain of certificates."
sidebar_label: "Get Server Certificates"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: prisma-cloud/api/cwpp/prisma-cloud-compute-api
custom_edit_url: null
hide_send_button: true
show_extensions: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Get Server Certificates</h1>

<MethodEndpoint method={"get"} path={"/api/v1/certs/server-certs.sh"}></MethodEndpoint>



```
x-prisma-cloud-target-env: {"permission":"manageDefenders"}
```



Retrieves the server certificate bundle from Prisma Cloud Compute that contains a chain of certificates.

* Certificate Authority (CA) certificate in PEM
* RSA Private Key for server in PEM
* Server certificate in PEM
* Defender CA certificate in PEM
* Defender RSA Private Key for client in PEM
* Defender client certificate in PEM

### cURL Request

Refer to the following example cURL command:

```bash
$ curl -k \
  -H 'Content-Type: application/json' \
  -u <USER> \
  -X GET \
  "https://<CONSOLE>/api/v1/certs/server-certs.sh"
```
### cURL Response

```
#!/bin/sh
# Copy Certificate Authority
echo -n "-----BEGIN CERTIFICATE-----
MIIDHDCCAgSgAwIBAgIQDBOoX575aweiQ6j6I…hXgEM=
-----END CERTIFICATE-----
" > ca.pem
# Copy Server key
echo -n "-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-256-CBC,a7a8cbceec7e97d51c04ce03f1b4c4dc
HwlxgvmGJw068VUEletmSSBjE54Q+8BGcWuYc…3PjIj2nuD4PTtOULiuLnAoONb0
-----END RSA PRIVATE KEY-----
" > server-key.pem
# Copy Server Cert
echo -n "-----BEGIN CERTIFICATE-----
MIIDOjCCAiKgAwIBAgIRAOCRfG1Sot…5SY03wZf20LvAzrLTRLsIAbsivp0Ljmvt
drBPViPXgryvwhpnaxU=
-----END CERTIFICATE-----
" > server-cert.pem
# Copy the defender certificate authority
echo -n "-----BEGIN CERTIFICATE-----
MIIDHTCCAgWgAwIBAgIRAMAqTE7/cvmwb…xLx9lzxemN
-----END CERTIFICATE-----
" > defender-ca.pem
# Copy the defender client key
echo -n "-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-256-CBC,ab1bca8bc354c0866cfc26fd946c70b5

x1nwAJw5sbjoSL7aUpO3rP8IkMz63X1dD…3k1SVZSph63rRvv6d5O
-----END RSA PRIVATE KEY-----
" > defender-client-key.pem
# Copy the defender client cert
echo -n "-----BEGIN CERTIFICATE-----
MIIDJzCCAg+gAwIBAgIQcb6VdD45Jbla…6kXfxAvSiLTs4mhC1wg68ZSDUQ==
-----END CERTIFICATE-----
" > defender-client-cert.pem

```

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"OS is the target os.\n","in":"query","name":"os","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"IPs is the list of addresses for which the certificates are generated.\n","in":"query","name":"ip","schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"Hostname is the target defender hostname.\n","in":"query","name":"hostname","schema":{"type":"string"}}}></ParamsItem></ul></div></details><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div></div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

integer

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"[\n  0\n]"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"default"} value={"default"}><div></div><div></div></TabItem></ApiTabs></div></div>
      