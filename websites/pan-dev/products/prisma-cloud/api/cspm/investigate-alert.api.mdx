---
id: investigate-alert
title: "Get IAM Query V2"
description: "Returns the query associated with an alert instance"
sidebar_label: "Get IAM Query V2"
hide_title: true
hide_table_of_contents: true
api: eJztV0tz2zYQ/isYXmTP6OHa7mSqmR7sNs04ae1UVurOeHSAyBUJmwQYAFSscPjfuwuQliwyCdv04IMvtgh8+8B+u4tFGVgem2B6G1yc/REshkEEJtQit0LJYBrMwBZaGmYTYB8L0BvGjVGh4BYi9knYhHHJeAraMiGN5TKEYBioHDQnDRcR6hByDcaKGGVGDoqInGuegQVNpstA4gci3S7KDFEGP3Nuk2Dfozl6UhskoIaPhdCAdqwuYBiYMIGMB9MysJucdBqrhYy/pQYeeJanhL8YnZz+ePIqqDoXF2TR5EoaMGTk+OiI/j3VffUONYZKWpCWdnmepyJ0AZncGYKUbT/V8g5CFxpN4bPCG7AigxmXMdDH9rC3Xgzd+Ya4290PRlV1hYNMMU222KdEhMkO6bpAli2zisUgiVtwmw2b20CVgwGZGkzZQEOKR17DYMgGa54WtFgOCiks7UZ8Qxs8U4WkhVcVq4gkQV5lQnKrNDleH2dz6TPEnQO9t8I6e/MmPL9aRevO3S72ty4iMSsRs5VWGRM8w7OCBmZUoUMYh6kqojEJs5/Z4OzmeuCC1ZibfUxnNf1o8K9j3KTt064sOOcRI8Iw9/+/dACtfVx2UyFUEVVdBsbwuEdSOHw7KbYauvYs1zHYzq0ILBfpTr4FXGu+oTK2kJnu/BMSE+m1P04QCh0WKdcHZ7lwaztRPtzle3//XEUbR/1XMH7f8/RDm6cPkhc2UVp8huiFqOdC1EmbqN+UXoooAvnC0nNh6bTN0qWybIVN/aWWngtLxz+1WZonWlmUJJYS4JEbxMrg79EM7/bf8QK2oxlyIyR5TlTZjTNjhLtFO+YsgVTHoJ1TT9W4KxCi0VzdgzTfp+280MaOfuE5D4XdfK9nKCCFSdzav9XlYvswykSolQG9FqGbT3AIDWg9L5aY79sVA2Ghncs47j6MMIlTFd6P6OrBpQUNlvCAxWKQHz8T3wOC9y0MAzdKNXqr4RZXW9xHLCjD8X6jSZxyeejH6mkwweFnwnMxWR9P3CA3Kev5u5r4MYq81utmRi90ilKJtbmZTkhwnGthMu5HJqGcMy3QcS/USS/UaS/UmMvP/YBQ9DxCT+A4Vut+wF1QKL8ACnk/ZSbuhyvu++GEjPoB7/J+uJVu4RbbirimGvM9er8u2l0L2FMMc8nOhGGcvb2+umQ3sGSu0bCDtzfzw3HzlvRNDr/qp+aeqcfbA/19hwXlm/VK+SeYb7FXOciz9xcsghX2RecSFhuWh3dufUQ9O1fGZtxdb7WlN2AZvq3Zn+4lhW+GvbdXub0m/+Nzu3bdYgOZ5Ck2bXLE0VDWxX4bYLEjEk9HPpMPzdttun10+6pHahI8BAmV5ZIb+KDTqqLl+nF1u6AeowVfUliwM+CjjX5jh1nx1MBXzncwq2/wQ7b3AO88Q8OJ3Oy0NfzpW17jeLWomktsp3GehSHkdkeuNYE8aY1vXs8pKHXabZOBlA2bH6S906dWNnkf6C+VRKdMWfpcq6pHvN/6osRjDns0xWiB19A//h0eqw==
sidebar_class_name: "get api-method"
info_path: prisma-cloud/api/cspm/openapi-definition
custom_edit_url: null
hide_send_button: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Get IAM Query V2</h1>

<MethodEndpoint method={"get"} path={"/iam/api/v2/alert/{alertId}/query"}></MethodEndpoint>



Returns the query associated with an alert instance

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"alertId","in":"path","description":"The alert id","required":true,"schema":{"type":"string","description":"The alert id","example":"I-34537"},"example":"I-34537"}}></ParamsItem></ul></div></details><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>

OK

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>timeRange</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The time range which the query run at to generate the alert

</div><SchemaItem collapsible={false} name={"type"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"config from iam where source.cloud.type = 'AWS'"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"timeRange\": \"{''type': 'relative', 'value': {'unit': 'day', 'amount': 7} }\",\n  \"query\": \"config from iam where source.cloud.type = 'AWS'\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>

Bad request

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>error</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"target"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"details"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","items":{"type":"string"}}}></SchemaItem><SchemaItem collapsible={false} name={"innerError"} required={false} schemaName={""} qualifierMessage={undefined} schema={"circular(ApiErrorResponseDto)"}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"error\": {\n    \"code\": \"string\",\n    \"message\": \"string\",\n    \"target\": \"string\",\n    \"details\": [\n      \"string\"\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"401"} value={"401"}><div>

Unauthorized

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>error</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"target"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"details"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","items":{"type":"string"}}}></SchemaItem><SchemaItem collapsible={false} name={"innerError"} required={false} schemaName={""} qualifierMessage={undefined} schema={"circular(ApiErrorResponseDto)"}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"error\": {\n    \"code\": \"string\",\n    \"message\": \"string\",\n    \"target\": \"string\",\n    \"details\": [\n      \"string\"\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"403"} value={"403"}><div>

Forbidden

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>error</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"target"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"details"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","items":{"type":"string"}}}></SchemaItem><SchemaItem collapsible={false} name={"innerError"} required={false} schemaName={""} qualifierMessage={undefined} schema={"circular(ApiErrorResponseDto)"}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"error\": {\n    \"code\": \"string\",\n    \"message\": \"string\",\n    \"target\": \"string\",\n    \"details\": [\n      \"string\"\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"404"} value={"404"}><div>

Not found

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>error</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"target"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"details"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","items":{"type":"string"}}}></SchemaItem><SchemaItem collapsible={false} name={"innerError"} required={false} schemaName={""} qualifierMessage={undefined} schema={"circular(ApiErrorResponseDto)"}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"error\": {\n    \"code\": \"string\",\n    \"message\": \"string\",\n    \"target\": \"string\",\n    \"details\": [\n      \"string\"\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"429"} value={"429"}><div>

Throttled

</div><details style={{"textAlign":"left","marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={true} open={false}><summary style={{}}><strong>Response Headers</strong></summary><ul style={{"marginLeft":"1rem"}}><li className={"schemaItem"}><summary style={{}}><strong>X-RateLimit-Remaining</strong><span style={{"opacity":"0.6"}}> integer</span></summary><div></div></li><li className={"schemaItem"}><summary style={{}}><strong>X-RateLimit-Requested-Tokens</strong><span style={{"opacity":"0.6"}}> integer</span></summary><div></div></li><li className={"schemaItem"}><summary style={{}}><strong>X-RateLimit-Burst-Capacity</strong><span style={{"opacity":"0.6"}}> integer</span></summary><div></div></li><li className={"schemaItem"}><summary style={{}}><strong>X-RateLimit-Replenish-Rate</strong><span style={{"opacity":"0.6"}}> integer</span></summary><div></div></li></ul></details><div></div></TabItem></ApiTabs></div></div>
      