---
id: save-policy
title: "Save New Policy"
description: "Prisma Cloud Application Security supports policy-as-code capabilities using YAML-based policy definition files to enable attribute and connection checks (composite checks)."
sidebar_label: "Save New Policy"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: prisma-cloud/api/code/prisma-cloud-policies-api-overview
custom_edit_url: null
hide_send_button: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Save New Policy</h1>

<MethodEndpoint method={"post"} path={"/code/api/v1/policies"}></MethodEndpoint>

:::caution deprecated

This endpoint has been deprecated and may be replaced or removed in future versions of the API.

:::

Prisma Cloud Application Security supports policy-as-code capabilities using YAML-based policy definition files to enable attribute and connection checks (composite checks).

 For information on defining YAML-based policies, see the Prisma Cloud documentation about the [Code Editor](https://docs.prismacloud.io/en/classic/appsec-admin-guide/get-started/code-repositories-policy-management/code-editor) and [Custom Build Policy Examples](https://docs.prismacloud.io/en/classic/appsec-admin-guide/get-started/code-repositories-policy-management/custom-build-policy-examples). If you are upgraded to Darwin, see  [Code Editor](https://docs.prismacloud.io/en/enterprise-edition/content-collections/governance/custom-build-policies/code-editor) and [Custom Build Policy Examples](https://docs.prismacloud.io/en/enterprise-edition/content-collections/governance/custom-build-policies/custom-build-policy-examples).

 To use the API request, add your token to the header. API supports both YAML and JSON configuration of Prisma Cloud Application Security custom policy schema.

 This API creates a new Prisma Cloud Application Security custom policy.

 The input will be a code-based policy definition file. The output will be a new policy id. In case of invalid code - output will include definition errors.
Use the given examples as a reference for configuring the API request body for saving new policies.
:::info
Use the CSPM endpoint [Add Policy](/prisma-cloud/api/cspm/add-policy/) in place of this endpoint.
:::

## Request

<MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

object

</div></ul></details></TabItem></MimeTabs><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>

Save a new policy data

</div><details style={{"textAlign":"left","marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={true} open={false}><summary style={{}}><strong>Response Headers</strong></summary><ul style={{"marginLeft":"1rem"}}><li className={"schemaItem"}><summary style={{}}><strong>Access-Control-Allow-Headers</strong><span style={{"opacity":"0.6"}}> string</span></summary><div></div></li><li className={"schemaItem"}><summary style={{}}><strong>Access-Control-Allow-Methods</strong><span style={{"opacity":"0.6"}}> string</span></summary><div></div></li><li className={"schemaItem"}><summary style={{}}><strong>Access-Control-Allow-Origin</strong><span style={{"opacity":"0.6"}}> string</span></summary><div></div></li></ul></details><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><div><span className={"badge badge--info"}>anyOf</span><SchemaTabs><TabItem label={"ErrorMessage"} value={"0-item-properties"}><SchemaItem collapsible={false} name={"message"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></TabItem><TabItem label={"PolicyRes"} value={"1-item-properties"}><SchemaItem collapsible={false} name={"policy"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></TabItem></SchemaTabs></div></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"202"} value={"202"}><div>

Operation Accepted

</div><details style={{"textAlign":"left","marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={true} open={false}><summary style={{}}><strong>Response Headers</strong></summary><ul style={{"marginLeft":"1rem"}}><li className={"schemaItem"}><summary style={{}}><strong>Access-Control-Allow-Headers</strong><span style={{"opacity":"0.6"}}> string</span></summary><div></div></li><li className={"schemaItem"}><summary style={{}}><strong>Access-Control-Allow-Methods</strong><span style={{"opacity":"0.6"}}> string</span></summary><div></div></li><li className={"schemaItem"}><summary style={{}}><strong>Access-Control-Allow-Origin</strong><span style={{"opacity":"0.6"}}> string</span></summary><div></div></li></ul></details><div></div></TabItem><TabItem label={"400"} value={"400"}><div>

Policy Validation Error

</div><div></div></TabItem><TabItem label={"403"} value={"403"}><div>

Payment required

</div><div></div></TabItem><TabItem label={"422"} value={"422"}><div>

Request arguments validation error

</div><div></div></TabItem><TabItem label={"500"} value={"500"}><div>

Failed to create new policy

</div><div></div></TabItem></ApiTabs></div></div>
      