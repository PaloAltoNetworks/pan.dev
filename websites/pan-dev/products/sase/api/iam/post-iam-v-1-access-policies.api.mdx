---
id: post-iam-v-1-access-policies
title: "Assign an access policy"
description: "Assign an access policy to a user or a service account. If the"
sidebar_label: "Assign an access policy"
hide_title: true
hide_table_of_contents: true
api: eJztV1tv2zYU/iuE9rAFsGU7zZDWCIqma7HloW0Qu0924NDSsc1GIjWSsmsY/u87h6RsSU4DFLu8rEFg6EKe6/d9h9pFKZhEi8IKJaNhdG2MWErG8T9JwBhWqEwkW2YV46w0oJnSeIUXa5EALVKltDG7WTC7gqmEnIuM8TTVtNmURZEJSGk7vmYPhRYyEQXPHpiGP0swls1VumULAVnKhGFS2al8lGojqz031x8qdx30LGHj4wiuaVOigdvgRfPkEfdx245lI+xKyLbJmP2hNrAGTbYTpXFpoWQq5HIqR6NPJ64wvoM7bp0jZkWOdj4bcMancuIXsGr//S89ww30eCF6guc9ehZMmp9UgTdU/F6hjO3i++560DVGzWiZOUN7Cc8yyi2YbcXJ2mHGUzmVvh+NgjfLcbRhfHNbLe2gY7TgC2YKSMSCGjnRKoMqoVQlpkcPMEysDffNxn3KF+YEJaPmg2ZIQEHJhdI5CyaALVSWqQ1lSc+5HVJujD1cBdOzYGkmeQ5vrqxZzkT6OsYqxgWXwd11qHWcqPxhKqNOdCj6TYqYrxfeo37mUC/A4NqA07cI02i4izBEC9LSpcs38c37Yog+u8gkK0yKrgpNXiwZcXehD3TTpNwY82z2BnN12Vd8Q0i1StnoQHjXrTB1Rg3drESyYltVMq5xm6O1QzWywDTJHTNXFPjK8yIDjIj8vsFYFc+skmA3Sj+66uEquy1oibGY0DLaU32MKnUCTyd2e/2R3YUV7CM2ySNDpFhDQpRxiY5Hv7ukvyvoGxvgQTaEaSGk0HJ4hXZnN+9eD/HvoZUjvR+cv6BXT2alsm9kdMoApGc3sMAlV8VfmgBc9mT4i9NEidulsSpnZK/DAgFxc16SVHqFqS352bCbd3ErNVRd0NTD08T2Hs9CAwJ/4rPs1MBZa+c9bhbWGbxTqHpjtOSSqVNke3Sh5l8gsegCfTSrNgrq4XtNPgmg8yrv43g4xHFgwEF4prIKzGd7zMLqEjwMUcyMZ9t5f/A3uCrS085f15uHVS+lQFk44li3m/Aq/XXQv+D97mDeh+7FYpB253DR7768XFy+HPRfnF/Cq6eA94xQvG+IhFo0NKIlEIFKiBwNCYg1gcsBicr/bxH+QPSD/jS7iu6XXHigu3rGbEwxETmYd8DCiP4PyDy5e47IKqDzBJvfx7Z/ikKl27EoM1YBPXb2DSSlFhZH02QXvQVUE42X93tiL18aIrmH7m010fBNDnalqslH/Od2hXfucLIe9E5nIIELDyPOSakRmtHK2sIMe3SmiamA8ZPooTCqCEfENk+wKs5AQUp97h8dSkH2XYJE1rvjCH5f1b0xUp8F8BGvLZx4WNQaiO4EHkAq6eAJScdJL+pSQKLm36KcbUj8cRMuM7XTcpuZCR6uLX8EAj/goZEmAIXSnWMd085UblaAj4AjfxrDpjo/Hk9cKSwE6ed8606FWQbOO2kDVoGc50q7IymmmAsENIbWNld7debBXYE2ZHp7BAKhwFdhEPedXCGCcu7klI5g3/6CiFplrKnzj4+OHx8d/4OPjqBsFr7aXpHhHCT+ODXdBQWeRGiDWDbAn7YKo5SuSK5x1W5HUvFZZ/s9PUZIaxoAeLnmWvA5kRdnAG4AnrqBsIseAZdEv3nOdWkSkSOelRTTyelo36l2kAYU9tm19Yly+2k0xsXz8LWUq5T2aL4hvcXfYeQ+v5xG0gL3bBdlXC5LvqS13iZJPy+pKLuqcIcRMa/G3OEVl9tahFget2KsHkFiiTohFUv3GC4a/wvawwU4
sidebar_class_name: "post api-method"
info_path: sase/api/iam/access-policies
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Heading from "@theme/Heading";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Assign an access policy</h1>

<MethodEndpoint method={"post"} path={"/iam/v1/access_policies"}></MethodEndpoint>



Assign an access policy to a user or a service account. If the
email address supplied to the `principal` request body field is not
known to the IAM service, a new user account is created to track that
email address within the IAM service. However, a corresponding
SSO user account is not created at that time. Use the 
[create SSO user](/sase/api/iam/useraccounts#operation/post-iam-v1-sso_users) 
call to create a corresponding SSO user account.

If the `principal` email address corresponds to a service account, 
then the specified [role](/sase/docs/roles) is applied
to that service account. Service account email addresses conform 
to the following format:

  `<service_account_name@<tsg_id>.iam.panServiceAccounts.com`


## Request

<MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}><div style={{"marginTop":"1rem","marginBottom":"1rem"}}>

Specifies the role to be assigned to the principal for the specified
resource.


</div></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"principal"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The email address for the user or \n[service account](/sase/docs/service-accounts) to which you are assigning\nthis access policy. \n","example":"user@paloaltonetworks.com","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"resource"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The PAN Resource Name that identifies the TSG for which you are assigning\nthis access policy. It follows this format:\n\n  `prn:<TSG_ID>::::`\n","example":"prn:123::::","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"role"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The [role](/sase/docs/all-roles) that you are using for this access policy. If you are assigning a custom role, then this must be the custom role's ID.\n","example":"superuser","type":"string"}}></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"201"} value={"201"}><div>

Successful response.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Access policy's unique identifier.\n","example":"9d5104a0-1b0e-4f1d-be40-87f7810327e9","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"principal"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Email address of the user or service account which is receiving this role. \n","example":"user@paloaltonetworks.com","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"resource"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Resource to which the principal is gaining access. This is a string in the format:\n\n  `prn:<TSG_ID>::::`\n","example":"prn:123::::","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"role"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"[Role](/sase/docs/all-roles) to assign to the principal.\n","example":"superuser","type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"id\": \"9d5104a0-1b0e-4f1d-be40-87f7810327e9\",\n  \"principal\": \"user@paloaltonetworks.com\",\n  \"resource\": \"prn:123::::\",\n  \"role\": \"superuser\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      