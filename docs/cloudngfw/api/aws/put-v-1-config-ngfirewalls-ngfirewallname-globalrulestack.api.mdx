---
id: put-v-1-config-ngfirewalls-ngfirewallname-globalrulestack
sidebar_label: Associate a GlobalRuleStack
hide_title: true
hide_table_of_contents: true
api: {"description":"Associate a global rulestack to an NGFW.\n","operationId":"put-v1-config-ngfirewalls-ngfirewallname-globalrulestack","parameters":[{"description":"The name of the NGFW to which you want to associate the global rulestack.\n","in":"path","name":"ngfirewallname","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"additionalProperties":false,"properties":{"AccountId":{"description":"The unique ID of the global rulestack account.\n","title":"Accountid","type":"string"},"RuleStackName":{"description":"Name of the global rulestack you want to associate to NGFW. \n","maxLength":128,"minLength":1,"pattern":"^[a-zA-Z0-9-]+$","title":"Rulestackname","type":"string"},"UpdateToken":{"description":"Refresh token. \n","title":"Updatetoken","type":"string"}},"required":["RuleStackName","AccountId"],"title":"AssociateGlobalRuleStackRequest","type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"additionalProperties":false,"properties":{"AccountId":{"description":"The unique ID of the global rulestack account.\n","title":"Accountid","type":"string"},"FirewallName":{"description":"Name of the NGFW, unique in a region for each customer. \n","title":"Firewallname","type":"string"},"ResponseStatus":{"description":"The API call response status.\n","additionalProperties":false,"properties":{"ErrorCode":{"default":0,"description":"Default value of a successful response is 0. Any other number indicates an error code.  \n\n400—HTTP bad request\n* InvalidOperationException—Operation failed because it is not valid. For example, when you delete an NGFW or rulestack in use.\n* InvalidRequestException—Operation failed due to invalid request. For example, unsupported parameter name or value in the request.\n* LimitExceededException—Operation failed due to violation in limit settings.\n* ResourceNotFoundException—Unable to locate a resource using the parameters you provided.\n* ThrottlingException—Operation failed due to throttling limitations.   \n\n500—Bad request \n* InternalServerError—Your request is valid but Cloud NGFW could not perform the operation due to a system issue.\n","title":"Errorcode","type":"integer"},"Reason":{"description":"The error description\n","title":"Reason","type":"string"}},"title":"Result","type":"object"},"RuleStackName":{"description":"Name of the global rulestack you want to associate to NGFW. \n","title":"Rulestackname","type":"string"},"UpdateToken":{"description":"Refresh token.\n","title":"Updatetoken","type":"string"}},"title":"AssociateGlobalRuleStackResponse","type":"object"}}},"description":"OK"}},"tags":["AssociateRulestacks"],"method":"put","path":"/v1/config/ngfirewalls/{ngfirewallname}/globalrulestack","servers":[{"url":"https://api.us-east-1.aws.cloudngfw.paloaltonetworks.com"}],"jsonRequestBodyExample":{"AccountId":"string","RuleStackName":"string","UpdateToken":"string"},"info":{"contact":{},"description":"There are two types of rulestacks:\n- **Local rulestack**-Consists of local rules and manages them. A local account administrator can associate local rulestacks to NGFW in their AWS account.\n- **Global rulestack**-The AWS Firewall Manager administrator can author a Firewall Manager Service (FMS) policy and associate a global rulestack with it. AWS Firewall Manager manages the global rulestack across all these NGFWs in different AWS accounts of an AWS Organization.  \n\nA global rulestack configures pre-rules and post-rules on each NGFW. The AWS Firewall Manager administrator can author a FMS policy and associate a global rulestack with it. AWS Firewall Manager manages the global rulestack across all these NGFWs in different AWS accounts in the AWS Organization. A global rulestack configures pre-rules and post-rules on each NGFW.  \n\n>**Note:** For FMS policy, there is no local firewall administrator. The local rulestack administrator associates the local rulestacks to NGFW. If the FMS service handshake is successful, any local firewall administrator call must be disabled, and the local rulestack administrator can associate the local rulestack to NGFW.\n\n>**Note:** The maximum local and global rulestacks you can create per subscription is 10.  \n","title":"Associate Rulestacks to NGFW","version":"1.0.0"},"postman":{"name":"Associate a GlobalRuleStack","description":{"content":"Associate a global rulestack to an NGFW.\n","type":"text/plain"},"url":{"path":["v1","config","ngfirewalls",":ngfirewallname","globalrulestack"],"host":["{{baseUrl}}"],"query":[],"variable":[{"disabled":false,"description":{"content":"(Required) The name of the NGFW to which you want to associate the global rulestack.\n","type":"text/plain"},"type":"any","value":"","key":"ngfirewallname"}]},"header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}}}}
sidebar_class_name: "put api-method"
info_path: docs/cloudngfw/api/aws/associate-rulestacks-to-ngfw
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem"
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Associate a GlobalRuleStack



Associate a global rulestack to an NGFW.


<details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Path Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"The name of the NGFW to which you want to associate the global rulestack.\n","in":"path","name":"ngfirewallname","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details><MimeTabs><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"AccountId"} required={true} schemaDescription={"The unique ID of the global rulestack account.\n"} schemaName={"Accountid"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"RuleStackName"} required={true} schemaDescription={"Name of the global rulestack you want to associate to NGFW. \n"} schemaName={"Rulestackname"} qualifierMessage={"**Possible values:** `non-empty` and `<= 128 characters`, Value must match regular expression `^[a-zA-Z0-9-]+$`"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"UpdateToken"} required={false} schemaDescription={"Refresh token. \n"} schemaName={"Updatetoken"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem></MimeTabs><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

OK

</div><div><MimeTabs groupId={"mime-type"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs groupId={"schema-tabs"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"AccountId"} required={false} schemaDescription={"The unique ID of the global rulestack account.\n"} schemaName={"Accountid"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"FirewallName"} required={false} schemaDescription={"Name of the NGFW, unique in a region for each customer. \n"} schemaName={"Firewallname"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>ResponseStatus</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The API call response status.


</div><SchemaItem collapsible={false} name={"ErrorCode"} required={false} schemaDescription={"Default value of a successful response is 0. Any other number indicates an error code.  \n\n400—HTTP bad request\n* InvalidOperationException—Operation failed because it is not valid. For example, when you delete an NGFW or rulestack in use.\n* InvalidRequestException—Operation failed due to invalid request. For example, unsupported parameter name or value in the request.\n* LimitExceededException—Operation failed due to violation in limit settings.\n* ResourceNotFoundException—Unable to locate a resource using the parameters you provided.\n* ThrottlingException—Operation failed due to throttling limitations.   \n\n500—Bad request \n* InternalServerError—Your request is valid but Cloud NGFW could not perform the operation due to a system issue.\n"} schemaName={"Errorcode"} qualifierMessage={undefined} defaultValue={0}></SchemaItem><SchemaItem collapsible={false} name={"Reason"} required={false} schemaDescription={"The error description\n"} schemaName={"Reason"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"RuleStackName"} required={false} schemaDescription={"Name of the global rulestack you want to associate to NGFW. \n"} schemaName={"Rulestackname"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"UpdateToken"} required={false} schemaDescription={"Refresh token.\n"} schemaName={"Updatetoken"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>
      