---
id: assign-an-access-policy
sidebar_label: Assign an access policy
hide_title: true
hide_table_of_contents: true
api: {"requestBody":{"description":"Specifies the role to be assigned to the principal for the specified\nresource.\n","content":{"application/json":{"schema":{"title":"Root Type for access_policy","required":["role","principal","resource"],"type":"object","properties":{"role":{"description":"The [role](/sase/docs/all-roles) that you are using for this access policy.\n","type":"string","example":"superuser"},"resource":{"description":"The PAN Resource Name that identifies the TSG for which you are assigning\nthis access policy. It follows this format:\n\n  `prn:<TSG_ID>::::`\n","type":"string","example":"prn:123::::"},"principal":{"description":"The email address for the user or \n[service account](/sase/docs/service-accounts) to which you are assigning\nthis access policy. \n","type":"string","example":"user@paloaltonetworks.com"}}}}},"required":true},"tags":["AccessPolicies"],"responses":{"201":{"content":{"application/json":{"schema":{"title":"Root Type for access_policy","type":"object","properties":{"id":{"type":"string","example":"9d5104a0-1b0e-4f1d-be40-87f7810327e9","description":"Access policy's unique identifier.\n"},"role":{"description":"[Role](/sase/docs/all-roles) to assign to the principal.\n","type":"string","example":"superuser"},"resource":{"description":"Resource to which the principal is gaining access. This is a string in the format:\n\n  `prn:<TSG_ID>::::`\n","type":"string","example":"prn:123::::"},"principal":{"description":"Email address of the user or service account which is receiving this role. \n","type":"string","example":"user@paloaltonetworks.com"}}}}},"description":"Successful response."}},"operationId":"createaccess_policy","description":"Assign an access policy to a user or a service account. If the\nemail address supplied to the `principal` request body field is not\nknown to the IAM service, a new user account is create to track that\nemail address. However, no validation is performed to ensure that the\nnew user email address corresponds to an email address used for a\nPalo Alto Networks customer service account.\n\nIf the `principal` email address corresponds to a service account, \nthe the specified [role](/sase/docs/roles) is applied\nto that service account. Service account email addresses conform \nto the following format:\n\n  `<service_account_name@<tsg_id>.iam.panServiceAccounts.com`\n","parameters":[],"security":[{"Bearer":[]}],"method":"post","path":"/iam/v1/access_policies","servers":[{"url":"https://api.sase.paloaltonetworks.com"}],"securitySchemes":{"Bearer":{"type":"http","scheme":"bearer"}},"jsonRequestBodyExample":{"role":"superuser","resource":"prn:123::::","principal":"user@paloaltonetworks.com"},"info":{"title":"Access Policies","version":"1.0","description":"Access policies description.\n","contact":{}},"postman":{"name":"Assign an access policy","description":{"content":"Assign an access policy to a user or a service account. If the\nemail address supplied to the `principal` request body field is not\nknown to the IAM service, a new user account is create to track that\nemail address. However, no validation is performed to ensure that the\nnew user email address corresponds to an email address used for a\nPalo Alto Networks customer service account.\n\nIf the `principal` email address corresponds to a service account, \nthe the specified [role](/sase/docs/roles) is applied\nto that service account. Service account email addresses conform \nto the following format:\n\n  `<service_account_name@<tsg_id>.iam.panServiceAccounts.com`\n","type":"text/plain"},"url":{"path":["iam","v1","access_policies"],"host":["{{baseUrl}}"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}},"auth":{"type":"bearer","bearer":[{"type":"any","value":"<Bearer Token>","key":"token"}]}}}
sidebar_class_name: "post api-method"
---

import ParamsItem from "@theme/ParamsItem";
import SchemaItem from "@theme/SchemaItem"
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

## Assign an access policy



Assign an access policy to a user or a service account. If the
email address supplied to the `principal` request body field is not
known to the IAM service, a new user account is create to track that
email address. However, no validation is performed to ensure that the
new user email address corresponds to an email address used for a
Palo Alto Networks customer service account.

If the `principal` email address corresponds to a service account, 
the the specified [role](/sase/docs/roles) is applied
to that service account. Service account email addresses conform 
to the following format:

  `&lt;service_account_name@&lt;tsg_id&gt;.iam.panServiceAccounts.com`


<details style={{}}><summary style={{"textAlign":"left"}}><strong>Request Body</strong><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}><div style={{"marginTop":"1rem","marginBottom":"1rem"}}>

Specifies the role to be assigned to the principal for the specified
resource.


</div></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"role"} required={true} schemaDescription={"The [role](/sase/docs/all-roles) that you are using for this access policy.\n"} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"resource"} required={true} schemaDescription={"The PAN Resource Name that identifies the TSG for which you are assigning\nthis access policy. It follows this format:\n\n  `prn:<TSG_ID>::::`\n"} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"principal"} required={true} schemaDescription={"The email address for the user or \n[service account](/sase/docs/service-accounts) to which you are assigning\nthis access policy. \n"} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></ul></details><div><Tabs><TabItem label={"201"} value={"201"}><div>

Successful response.

</div><div><details style={{}}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"id"} required={false} schemaDescription={"Access policy's unique identifier.\n"} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"role"} required={false} schemaDescription={"[Role](/sase/docs/all-roles) to assign to the principal.\n"} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"resource"} required={false} schemaDescription={"Resource to which the principal is gaining access. This is a string in the format:\n\n  `prn:<TSG_ID>::::`\n"} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"principal"} required={false} schemaDescription={"Email address of the user or service account which is receiving this role. \n"} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></ul></details></div></TabItem></Tabs></div>
      