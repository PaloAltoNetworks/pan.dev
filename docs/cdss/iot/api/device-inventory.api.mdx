---
id: device-inventory
sidebar_label: Get the Device Inventory
hide_title: true
hide_table_of_contents: true
api: {"description":"Get a list of all the devices in your IoT Security inventory.\n\n**Rate limiting**: 60 times per minute\n","operationId":"device-inventory","security":[{"X-Key-Id":[],"X-Access-Key":[]}],"tags":["IoT Public API"],"parameters":[{"description":"The customer ID to which the API call is directed","in":"query","name":"customerid","required":true,"schema":{"type":"string"}},{"description":"An optional string that sets the start of a time range for devices to retrieve. This is the time when a device was last active. (It’s unnecessary to set etime=now or etime=<time> because it is always treated as now.)","in":"query","name":"stime","required":false,"schema":{"type":"string","format":"date-time"}},{"description":"An optional integer that sets the number of items to skip","in":"query","name":"offset","required":false,"schema":{"type":"integer"}},{"description":"An optional integer that sets the number of items in one response; that is, in one page. The maximum page length you can set is 1000. The default page length for alerts, devices, and vulnerability instances is 1000. Because of these high default values, we recommend setting the page length to a smaller number, especially for alerts and vulnerabilities.","in":"query","name":"pagelength","required":false,"schema":{"type":"integer"}},{"description":"The return of more device attributes (true) or fewer attributes (false)","in":"query","name":"detail","required":false,"schema":{"type":"string","enum":["true","false"]}},{"description":"The alphanumeric order in which devices are displayed by MAC address. asc indicates an ascending order from smallest tolargest. desc, which is the default, indicates a descending order from largest to smallest.","in":"query","name":"sortdirection","required":false,"schema":{"type":"string","enum":["asc","desc"]}},{"description":"The device attribute to use for sorting. Currently only MAC is supported.","in":"query","name":"sortfield","required":false,"schema":{"type":"string"}},{"description":"Field to filter devices with traffic restricted","in":"query","name":"trafficRestricted","required":false,"schema":{"type":"string","enum":["yes","no"]},"example":"yes"}],"responses":{"200":{"description":"Successful Response (We only show some important fields here.)","content":{"application/json":{"schema":{"type":"object","properties":{"total":{"type":"integer","description":"The number of devices matching the request"},"devices":{"type":"array","description":"An array containing device details","items":{"type":"object","properties":{"deviceid":{"type":"string","description":"The device ID, which IoT Security uses to identify and track a device"},"hostname":{"type":"string","description":"The device hostname"},"category":{"type":"string","description":"The category to which the device belongs"},"profile":{"type":"string","description":"The device profile assigned to the device"},"profile_type":{"type":"string","description":"The type of device profile, such as IoT or Non_IoT"},"profile_vertical":{"type":"string","description":"The industry vertical for the profile such as Medical, IT Devices, and Office"},"ip_address":{"type":"string","description":"The IP address of a device"},"mac_address":{"type":"string","description":"The MAC address of a device"},"risk_score":{"type":"integer","description":"The risk score of a device"},"risk_level":{"type":"string","description":"The risk level of a device. There are four: low, medium, high, and critical"},"last_activity":{"type":"string","format":"date-time","description":"A UTC timestamp for the last detected device activity"},"confidence_score":{"type":"string","description":"The confidence score for device classification"},"tagIdList":{"type":"array","description":"A list of IDs for user- and system-defined tags assigned to a device"},"allTags":{"type":"array","description":"An array of user-defined tags assigned to a device. Each item in the array consists of three attributes: tagType, tagValue, and tagId.","items":{"type":"object","properties":{"tagType":{"type":"string","description":"The key for a user-defined tag"},"tagValue":{"type":"string","description":"The value of the tag key for a user-defined tag"},"tagId":{"type":"string","description":"The ID of a user-defined tag"}}}},"trafficRestricted":{"type":"boolean","description":"Whether traffic restriction is being applied to a device (yes) or not (no)"}}}}}},"examples":{"deviceInventoryResponseExample":{"value":{"total":1,"devices":[{"deviceid":"34:02:86:44:65:36","hostname":"InfusionPump-20","category":"Infusion System","profile":"Sigma Spectrum Infusion System","profile_type":"IoT","profile_vertical":"Medical","ip_address":"192.168.10.121","mac_address":"34:02:86:44:65:36","risk_score":0,"risk_level":"low","last_activity":"2018-05-31T18:39:37.404Z","confidence_score":"90","allTags":[{"tagType":"zzzNoTagTypeABC","tagValue":"special_blocked","tagId":"60f221a219e22f10003a965e"}],"trafficRestriced":true}]}}}}}},"4XX":{"description":"Client Error Response","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string","description":"STATUS_CODE"},"msg":{"type":"string","description":"GENERAL_MESSAGE"}}},"examples":{"Bad Request":{"value":{"code":400,"msg":"Bad Request. This occurs when an HTTP request contains an invalid query string."}},"Forbidden access":{"value":{"code":403,"msg":"Forbidden access. Either the provided API key is invalid or it does not have the required RBAC permissions to run this API."}},"Too many requests":{"value":{"code":429,"msg":"Too many requests. The number of requests for device details for a single device exceeded the rate limit of 180 queries per minute per tenant."}}}}}},"5XX":{"description":"Server Error Response","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string","description":"STATUS_CODE"},"msg":{"type":"string","description":"GENERAL_MESSAGE"}}},"examples":{"deviceInventoryResponseExample":{"value":{"code":500,"msg":"Internal server error. A unified status for API communication type errors."}}}}}}},"method":"get","path":"/pub/v4.0/device/list","servers":[{"url":"https://{customer-name}.iot.paloaltonetworks.com"}],"securitySchemes":{"X-Key-Id":{"description":"Your API header requires X-Key-Id for authentication.","type":"apiKey","in":"header","name":"X-Key-Id"},"X-Access-Key":{"description":"Your API header requires X-Key-Key for authentication.","type":"apiKey","in":"header","name":"X-Access-Key"}},"info":{"description":"Please refer [IoT Public API Authentication](/cdss/iot/api/iot-public-api-headers) to know how to get API Key\n","title":"IoT Public API Overview","version":"v4.0","contact":{}},"postman":{"name":"Get the Device Inventory","description":{"content":"Get a list of all the devices in your IoT Security inventory.\n\n**Rate limiting**: 60 times per minute\n","type":"text/plain"},"url":{"path":["pub","v4.0","device","list"],"host":["{{baseUrl}}"],"query":[{"disabled":false,"description":{"content":"(Required) The customer ID to which the API call is directed","type":"text/plain"},"key":"customerid","value":""},{"disabled":false,"description":{"content":"An optional string that sets the start of a time range for devices to retrieve. This is the time when a device was last active. (It’s unnecessary to set etime=now or etime=<time> because it is always treated as now.)","type":"text/plain"},"key":"stime","value":""},{"disabled":false,"description":{"content":"An optional integer that sets the number of items to skip","type":"text/plain"},"key":"offset","value":""},{"disabled":false,"description":{"content":"An optional integer that sets the number of items in one response; that is, in one page. The maximum page length you can set is 1000. The default page length for alerts, devices, and vulnerability instances is 1000. Because of these high default values, we recommend setting the page length to a smaller number, especially for alerts and vulnerabilities.","type":"text/plain"},"key":"pagelength","value":""},{"disabled":false,"description":{"content":"The return of more device attributes (true) or fewer attributes (false)","type":"text/plain"},"key":"detail","value":""},{"disabled":false,"description":{"content":"The alphanumeric order in which devices are displayed by MAC address. asc indicates an ascending order from smallest tolargest. desc, which is the default, indicates a descending order from largest to smallest.","type":"text/plain"},"key":"sortdirection","value":""},{"disabled":false,"description":{"content":"The device attribute to use for sorting. Currently only MAC is supported.","type":"text/plain"},"key":"sortfield","value":""},{"disabled":false,"description":{"content":"Field to filter devices with traffic restricted","type":"text/plain"},"key":"trafficRestricted","value":""}],"variable":[]},"header":[{"key":"Accept","value":"application/json"}],"method":"GET","auth":{"type":"apikey","apikey":[{"type":"any","value":"X-Key-Id","key":"key"},{"type":"any","value":"<API Key>","key":"value"},{"type":"any","value":"header","key":"in"}]}}}
sidebar_class_name: "get api-method"
info_path: docs/cdss/iot/api/io-t-public-api-overview
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem"
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Get the Device Inventory



Get a list of all the devices in your IoT Security inventory.

**Rate limiting**: 60 times per minute


<details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Query Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"The customer ID to which the API call is directed","in":"query","name":"customerid","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"An optional string that sets the start of a time range for devices to retrieve. This is the time when a device was last active. (It’s unnecessary to set etime=now or etime=<time> because it is always treated as now.)","in":"query","name":"stime","required":false,"schema":{"type":"string","format":"date-time"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"An optional integer that sets the number of items to skip","in":"query","name":"offset","required":false,"schema":{"type":"integer"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"An optional integer that sets the number of items in one response; that is, in one page. The maximum page length you can set is 1000. The default page length for alerts, devices, and vulnerability instances is 1000. Because of these high default values, we recommend setting the page length to a smaller number, especially for alerts and vulnerabilities.","in":"query","name":"pagelength","required":false,"schema":{"type":"integer"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"The return of more device attributes (true) or fewer attributes (false)","in":"query","name":"detail","required":false,"schema":{"type":"string","enum":["true","false"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"The alphanumeric order in which devices are displayed by MAC address. asc indicates an ascending order from smallest tolargest. desc, which is the default, indicates a descending order from largest to smallest.","in":"query","name":"sortdirection","required":false,"schema":{"type":"string","enum":["asc","desc"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"The device attribute to use for sorting. Currently only MAC is supported.","in":"query","name":"sortfield","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"description":"Field to filter devices with traffic restricted","in":"query","name":"trafficRestricted","required":false,"schema":{"type":"string","enum":["yes","no"]},"example":"yes"}}></ParamsItem></ul></div></details><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

Successful Response (We only show some important fields here.)

</div><div><MimeTabs groupId={"mime-type"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs groupId={"schema-tabs"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"total"} required={false} schemaDescription={"The number of devices matching the request"} schemaName={"integer"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>devices</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

An array containing device details

</div><SchemaItem collapsible={false} name={"deviceid"} required={false} schemaDescription={"The device ID, which IoT Security uses to identify and track a device"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"hostname"} required={false} schemaDescription={"The device hostname"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"category"} required={false} schemaDescription={"The category to which the device belongs"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"profile"} required={false} schemaDescription={"The device profile assigned to the device"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"profile_type"} required={false} schemaDescription={"The type of device profile, such as IoT or Non_IoT"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"profile_vertical"} required={false} schemaDescription={"The industry vertical for the profile such as Medical, IT Devices, and Office"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"ip_address"} required={false} schemaDescription={"The IP address of a device"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"mac_address"} required={false} schemaDescription={"The MAC address of a device"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"risk_score"} required={false} schemaDescription={"The risk score of a device"} schemaName={"integer"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"risk_level"} required={false} schemaDescription={"The risk level of a device. There are four: low, medium, high, and critical"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"last_activity"} required={false} schemaDescription={"A UTC timestamp for the last detected device activity"} schemaName={"date-time"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"confidence_score"} required={false} schemaDescription={"The confidence score for device classification"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"tagIdList"} required={false} schemaDescription={"A list of IDs for user- and system-defined tags assigned to a device"} schemaName={"array"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>allTags</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

An array of user-defined tags assigned to a device. Each item in the array consists of three attributes: tagType, tagValue, and tagId.

</div><SchemaItem collapsible={false} name={"tagType"} required={false} schemaDescription={"The key for a user-defined tag"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"tagValue"} required={false} schemaDescription={"The value of the tag key for a user-defined tag"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"tagId"} required={false} schemaDescription={"The ID of a user-defined tag"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"trafficRestricted"} required={false} schemaDescription={"Whether traffic restriction is being applied to a device (yes) or not (no)"} schemaName={"boolean"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"total\": 0,\n  \"devices\": [\n    {\n      \"deviceid\": \"string\",\n      \"hostname\": \"string\",\n      \"category\": \"string\",\n      \"profile\": \"string\",\n      \"profile_type\": \"string\",\n      \"profile_vertical\": \"string\",\n      \"ip_address\": \"string\",\n      \"mac_address\": \"string\",\n      \"risk_score\": 0,\n      \"risk_level\": \"string\",\n      \"last_activity\": \"2022-09-03\",\n      \"confidence_score\": \"string\",\n      \"tagIdList\": [\n        null\n      ],\n      \"allTags\": [\n        {\n          \"tagType\": \"string\",\n          \"tagValue\": \"string\",\n          \"tagId\": \"string\"\n        }\n      ],\n      \"trafficRestricted\": true\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Device Inventory Response Example"} value={"Device Inventory Response Example"}><ResponseSamples responseExample={"{\n  \"total\": 1,\n  \"devices\": [\n    {\n      \"deviceid\": \"34:02:86:44:65:36\",\n      \"hostname\": \"InfusionPump-20\",\n      \"category\": \"Infusion System\",\n      \"profile\": \"Sigma Spectrum Infusion System\",\n      \"profile_type\": \"IoT\",\n      \"profile_vertical\": \"Medical\",\n      \"ip_address\": \"192.168.10.121\",\n      \"mac_address\": \"34:02:86:44:65:36\",\n      \"risk_score\": 0,\n      \"risk_level\": \"low\",\n      \"last_activity\": \"2018-05-31T18:39:37.404Z\",\n      \"confidence_score\": \"90\",\n      \"allTags\": [\n        {\n          \"tagType\": \"zzzNoTagTypeABC\",\n          \"tagValue\": \"special_blocked\",\n          \"tagId\": \"60f221a219e22f10003a965e\"\n        }\n      ],\n      \"trafficRestriced\": true\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"4XX"} value={"4XX"}><div>

Client Error Response

</div><div><MimeTabs groupId={"mime-type"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs groupId={"schema-tabs"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={false} schemaDescription={"STATUS_CODE"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"msg"} required={false} schemaDescription={"GENERAL_MESSAGE"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"code\": \"string\",\n  \"msg\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={" Bad  Request"} value={" Bad  Request"}><ResponseSamples responseExample={"{\n  \"code\": 400,\n  \"msg\": \"Bad Request. This occurs when an HTTP request contains an invalid query string.\"\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={" Forbidden access"} value={" Forbidden access"}><ResponseSamples responseExample={"{\n  \"code\": 403,\n  \"msg\": \"Forbidden access. Either the provided API key is invalid or it does not have the required RBAC permissions to run this API.\"\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={" Too many requests"} value={" Too many requests"}><ResponseSamples responseExample={"{\n  \"code\": 429,\n  \"msg\": \"Too many requests. The number of requests for device details for a single device exceeded the rate limit of 180 queries per minute per tenant.\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"5XX"} value={"5XX"}><div>

Server Error Response

</div><div><MimeTabs groupId={"mime-type"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs groupId={"schema-tabs"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={false} schemaDescription={"STATUS_CODE"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"msg"} required={false} schemaDescription={"GENERAL_MESSAGE"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"code\": \"string\",\n  \"msg\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Device Inventory Response Example"} value={"Device Inventory Response Example"}><ResponseSamples responseExample={"{\n  \"code\": 500,\n  \"msg\": \"Internal server error. A unified status for API communication type errors.\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>
      