---
id: get-atp-pcaps
sidebar_label: Get ATP cloud report PCAP
hide_title: true
hide_table_of_contents: true
api: {"operationId":"get_atp_pcaps","description":"A GET request to retrieve the raw payload associated with the report ID as a PCAP.","security":[{"X-TV-API-KEY":[]}],"tags":["Advanced Threat Prevention API Endpoints"],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string"},"description":"Retrieve the ATP report sample (packet capture) by report id\n\n---\n```\ncurl -H 'X-API-KEY: API_KEY' \\\n  'https://api.threatvault.paloaltonetworks.com/service/v1/atp/reports/pcaps?id=c25b5d86d8ac77e10376000517491157a07ac008bfc799f08795d59c57e23a50'\n```\n"}],"responses":{"200":{"description":"Request succeeded","content":{"application/octet-stream":{"schema":{"type":"string","format":"binary"}}},"headers":{"X-Minute-RateLimit-Limit":{"description":"The maximum number of requests that the user is permitted to make per minute.","schema":{"type":"integer"},"example":200,"name":"X-Minute-RateLimit-Limit"},"X-Minute-RateLimit-Remaining":{"description":"The number of requests remaining in the current rate limit window (one minute).","schema":{"type":"integer"},"name":"X-Minute-RateLimit-Remaining"},"X-Minute-RateLimit-Reset":{"description":"The timestamp at which the current rate limit window (one minute) resets.","schema":{"type":"integer"},"name":"X-Minute-RateLimit-Reset"},"X-Day-RateLimit-Limit":{"description":"The maximum number of requests that the user is permitted to make per day.","schema":{"type":"integer"},"example":2000,"name":"X-Day-RateLimit-Limit"},"X-Day-RateLimit-Remaining":{"description":"The number of requests remaining in the current rate limit window (one day).","schema":{"type":"integer"},"name":"X-Day-RateLimit-Remaining"},"X-Day-RateLimit-Reset":{"description":"The timestamp at which the current rate limit window (one day) resets.","schema":{"type":"integer"},"name":"X-Day-RateLimit-Reset"}}},"4XX":{"description":"Certificate related error response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"message":{"type":"string","example":"Failed to query"}}}}}},"5XX":{"description":"Server related error response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"message":{"type":"string","example":"Failed to query"}}}}}}},"method":"get","path":"/atp/reports/pcaps","servers":[{"url":"https://api.threatvault.paloaltonetworks.com/service/v1","description":"The base URI"}],"securitySchemes":{"X-API-KEY":{"description":"The API header required for authentication.","type":"apiKey","in":"header","name":"X-API-KEY"}},"info":{"description":"The Advanced Threat Prevention API endpoints require an active subscription to the Advanced Threat Prevention security service. These endpoints can only be accessed using the API key associated with the account that holds the subscription. Attempting to view an unauthorized report ID will not return any results.\n\nList of Advanced Threat Prevention API endpoints:\n1. Link to [Retrieve Advanced Threat Prevention cloud analysis report](advanced-threat-prevention-api-endpoints#operation/post_atp_reports_batch_mode)\n2. Link to [Retrieve the Advanced Threat Prevention cloud analysis report PCAP](advanced-threat-prevention-api-endpoints#operation/get_atp_pcaps)\n","title":"Advanced Threat Prevention API Overview","version":"v1.0-BETA","contact":{"email":"tp-infra@paloaltonetworks.com"}},"postman":{"name":"Get ATP cloud report PCAP","description":{"content":"A GET request to retrieve the raw payload associated with the report ID as a PCAP.","type":"text/plain"},"url":{"path":["atp","reports","pcaps"],"host":["{{baseUrl}}"],"query":[{"disabled":false,"description":{"content":"(Required) Retrieve the ATP report sample (packet capture) by report id\n\n---\n```\ncurl -H 'X-API-KEY: API_KEY' \\\n  'https://api.threatvault.paloaltonetworks.com/service/v1/atp/reports/pcaps?id=c25b5d86d8ac77e10376000517491157a07ac008bfc799f08795d59c57e23a50'\n```\n","type":"text/plain"},"key":"id","value":""}],"variable":[]},"header":[{"key":"Accept","value":"application/octet-stream"}],"method":"GET"}}
sidebar_class_name: "get api-method"
info_path: docs/cdss/atp/api/advanced-threat-prevention-api-overview
---

import ParamsItem from "@theme/ParamsItem";
import SchemaItem from "@theme/SchemaItem"
import ApiTabs from "@theme/ApiTabs";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

## Get ATP cloud report PCAP



A GET request to retrieve the raw payload associated with the report ID as a PCAP.

<details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Query Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"id","in":"query","required":true,"schema":{"type":"string"},"description":"Retrieve the ATP report sample (packet capture) by report id\n\n---\n```\ncurl -H 'X-API-KEY: API_KEY' \\\n  'https://api.threatvault.paloaltonetworks.com/service/v1/atp/reports/pcaps?id=c25b5d86d8ac77e10376000517491157a07ac008bfc799f08795d59c57e23a50'\n```\n"}}></ParamsItem></ul></div></details><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

Request succeeded

</div><div><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><li><div><strong>string</strong><span style={{"opacity":"0.6"}}> binary</span></div></li></ul></details></div></TabItem><TabItem label={"4XX"} value={"4XX"}><div>

Certificate related error response

</div><div><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"success"} required={false} schemaDescription={undefined} schemaName={"boolean"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></ul></details></div></TabItem><TabItem label={"5XX"} value={"5XX"}><div>

Server related error response

</div><div><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"success"} required={false} schemaDescription={undefined} schemaName={"boolean"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></ul></details></div></TabItem></ApiTabs></div>
      