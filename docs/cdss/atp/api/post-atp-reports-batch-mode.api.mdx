---
id: post-atp-reports-batch-mode
sidebar_label: Get ATP reports
hide_title: true
hide_table_of_contents: true
api: {"operationId":"post_atp_reports_batch_mode","description":"A POST request to retrieve a single (or multiple) unique, automatically generated report, based on the analysis details provided by Advanced Threat Prevention for a specific threat. This includes contextual data specific to your network by providing various session data, transaction info, and malware details. User must provide **one or more** report IDs in request body.","security":[{"X-TV-API-KEY":[]}],"tags":["Advanced Threat Prevention API Endpoints"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"array","items":{"type":"string"}}},"example":{"id":["c25b5d86d8ac77e10376000517491157a07ac008bfc799f08795d59c57e23a50","a23b5d46d6ac77e70376080517991187a07ac008bfc799f08795d59c57e23a50"]}}}}},"responses":{"200":{"description":"Request succeeded","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"err_code":{"type":"integer","example":0},"report_data":{"type":"object","properties":{"panos_info":{"type":"object","properties":{"fw_hostname":{"type":"string","example":"fw-1"},"fw_addr_v4":{"type":"string","example":"10.0.0.0"},"fw_addr_v6":{"type":"string","example":"2001:0db8:85a3:0000:0000:8a2e:0370:7334"},"fw_app_version":{"type":"string","example":"8527-12345"},"fw_sw_version":{"type":"string","example":"10.2.1"},"fw_serial":{"type":"string","example":1},"fw_model":{"type":"string","example":"PA-VM"},"csp_id":{"type":"string","example":123}}},"session_info":{"type":"object","properties":{"session_id":{"type":"string","example":123456},"session_timestamp":{"type":"string","example":"2022-04-11T10:00:00.740261097-07:00"},"flow_info":{"type":"object","properties":{"dports":{"type":"string","example":80},"sport":{"type":"string","example":49234},"saddr":{"type":"string","example":"1.1.1.1"},"daddr":{"type":"string","example":"1.1.1.2"}}}}},"transaction_data":{"type":"object","properties":{"transaction_id":{"type":"string","example":0},"payload_sha256":{"type":"string","example":"a15e20ddc3a0850b64cdc87a23230b51466f9879345435973ce360e80e1f670e"},"reports":{"type":"array","items":{"type":"object","properties":{"ds_name":{"type":"string","example":"mlc2-http-ids"},"ds_report":{"type":"object","example":null},"status":{"type":"string","example":"ok"}}}}}}}}}}},"message":{"type":"string","example":"Successful"}}}}},"headers":{"X-Minute-RateLimit-Limit":{"description":"The maximum number of requests that the user is permitted to make per minute.","schema":{"type":"integer"},"example":200,"name":"X-Minute-RateLimit-Limit"},"X-Minute-RateLimit-Remaining":{"description":"The number of requests remaining in the current rate limit window (one minute).","schema":{"type":"integer"},"name":"X-Minute-RateLimit-Remaining"},"X-Minute-RateLimit-Reset":{"description":"The timestamp at which the current rate limit window (one minute) resets.","schema":{"type":"integer"},"name":"X-Minute-RateLimit-Reset"},"X-Day-RateLimit-Limit":{"description":"The maximum number of requests that the user is permitted to make per day.","schema":{"type":"integer"},"example":2000,"name":"X-Day-RateLimit-Limit"},"X-Day-RateLimit-Remaining":{"description":"The number of requests remaining in the current rate limit window (one day).","schema":{"type":"integer"},"name":"X-Day-RateLimit-Remaining"},"X-Day-RateLimit-Reset":{"description":"The timestamp at which the current rate limit window (one day) resets.","schema":{"type":"integer"},"name":"X-Day-RateLimit-Reset"}}},"401":{"description":"Certificate related error response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"message":{"type":"string","example":"Failed to query"}}}}}},"404":{"description":"No ATP reports are found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"message":{"type":"string","example":"Failed to query"}}}}}},"5XX":{"description":"Server related error response","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"message":{"type":"string","example":"Failed to query"}}}}}}},"parameters":[],"method":"post","path":"/atp/reports","servers":[{"url":"https://api.threatvault.paloaltonetworks.com/service/v1","description":"The base URI"}],"securitySchemes":{"X-API-KEY":{"description":"The API header required for authentication.","type":"apiKey","in":"header","name":"X-API-KEY"}},"jsonRequestBodyExample":{"id":["c25b5d86d8ac77e10376000517491157a07ac008bfc799f08795d59c57e23a50","a23b5d46d6ac77e70376080517991187a07ac008bfc799f08795d59c57e23a50"]},"info":{"description":"The Advanced Threat Prevention API endpoints require an active subscription to the Advanced Threat Prevention security service. These endpoints can only be accessed using the API key associated with the account that holds the subscription. Attempting to view an unauthorized report ID will not return any results.\n\nList of Advanced Threat Prevention API endpoints:\n1. Link to [Retrieve Advanced Threat Prevention cloud analysis report](advanced-threat-prevention-api-endpoints#operation/post_atp_reports_batch_mode)\n2. Link to [Retrieve the Advanced Threat Prevention cloud analysis report PCAP](advanced-threat-prevention-api-endpoints#operation/get_atp_pcaps)\n","title":"Advanced Threat Prevention API Overview","version":"v1.0-BETA","contact":{"email":"tp-infra@paloaltonetworks.com"}},"postman":{"name":"Get ATP reports","description":{"content":"A POST request to retrieve a single (or multiple) unique, automatically generated report, based on the analysis details provided by Advanced Threat Prevention for a specific threat. This includes contextual data specific to your network by providing various session data, transaction info, and malware details. User must provide **one or more** report IDs in request body.","type":"text/plain"},"url":{"path":["atp","reports"],"host":["{{baseUrl}}"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}}}}
sidebar_class_name: "post api-method"
info_path: docs/cdss/atp/api/advanced-threat-prevention-api-overview
---

import ParamsItem from "@theme/ParamsItem";
import SchemaItem from "@theme/SchemaItem"
import ApiTabs from "@theme/ApiTabs";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

## Get ATP reports



A POST request to retrieve a single (or multiple) unique, automatically generated report, based on the analysis details provided by Advanced Threat Prevention for a specific threat. This includes contextual data specific to your network by providing various session data, transaction info, and malware details. User must provide **one or more** report IDs in request body.

<details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"id"} required={false} schemaDescription={undefined} schemaName={"string[]"} qualifierMessage={undefined}></SchemaItem></ul></details><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

Request succeeded

</div><div><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"success"} required={false} schemaDescription={undefined} schemaName={"boolean"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>data</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"err_code"} required={false} schemaDescription={undefined} schemaName={"integer"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>report_data</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>panos_info</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"fw_hostname"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"fw_addr_v4"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"fw_addr_v6"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"fw_app_version"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"fw_sw_version"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"fw_serial"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"fw_model"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"csp_id"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>session_info</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"session_id"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"session_timestamp"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>flow_info</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"dports"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"sport"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"saddr"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"daddr"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>transaction_data</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"transaction_id"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"payload_sha256"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>reports</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"ds_name"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"ds_report"} required={false} schemaDescription={undefined} schemaName={"object"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"status"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></ul></details></div></TabItem><TabItem label={"401"} value={"401"}><div>

Certificate related error response

</div><div><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"success"} required={false} schemaDescription={undefined} schemaName={"boolean"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></ul></details></div></TabItem><TabItem label={"404"} value={"404"}><div>

No ATP reports are found

</div><div><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"success"} required={false} schemaDescription={undefined} schemaName={"boolean"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></ul></details></div></TabItem><TabItem label={"5XX"} value={"5XX"}><div>

Server related error response

</div><div><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"success"} required={false} schemaDescription={undefined} schemaName={"boolean"} qualifierMessage={undefined}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined}></SchemaItem></ul></details></div></TabItem></ApiTabs></div>
      