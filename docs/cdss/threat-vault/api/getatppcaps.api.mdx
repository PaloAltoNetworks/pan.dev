---
id: getatppcaps
sidebar_label: Request Advanced Threat Prevention Report PCAP
hide_title: true
hide_table_of_contents: true
api: {"description":"A GET request to retrieve the ATP report sample (packet capture) by report id.\n","operationId":"getatppcaps","parameters":[{"description":"Retrieve the ATP report sample (packet capture) by report id.\n\n---\n```\ncurl -v -H 'X-API-KEY: API_KEY' \\\n  'https://api.threatvault.paloaltonetworks.com/service/v1/atp/reports/pcaps?id=c25b5d86d8ac77e10376000517491157a07ac008bfc799f08795d59c57e23a50'\n```","in":"query","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/octet-stream":{"schema":{"format":"binary","type":"string"}}},"description":"Request succeeded","headers":{"X-Day-RateLimit-Limit":{"description":"The maximum number of requests that the user is permitted to make per day.","example":2000,"schema":{"type":"integer"}},"X-Day-RateLimit-Remaining":{"description":"The number of requests remaining in the current rate limit window (one day).","schema":{"type":"integer"}},"X-Day-RateLimit-Reset":{"description":"The epoch timestamp at which the current rate limit window (one day) resets.","schema":{"type":"integer"}},"X-Minute-RateLimit-Limit":{"description":"The maximum number of requests that the user is permitted to make per minute.","example":200,"schema":{"type":"integer"}},"X-Minute-RateLimit-Remaining":{"description":"The number of requests remaining in the current rate limit window (one minute).","schema":{"type":"integer"}},"X-Minute-RateLimit-Reset":{"description":"The epoch timestamp at which the current rate limit window (one minute) resets.","schema":{"type":"integer"}}}},"4XX":{"content":{"application/json":{"schema":{"properties":{"message":{"description":"Generic response message.","example":"Error message.","type":"string"},"success":{"description":"The response status.","example":false,"type":"boolean"}},"type":"object"}}},"description":"Certificate related error response"},"5XX":{"content":{"application/json":{"schema":{"properties":{"message":{"description":"Generic response message.","example":"Error message.","type":"string"},"success":{"description":"The response status.","example":false,"type":"boolean"}},"type":"object"}}},"description":"Server related error response"}},"security":[{"X-API-KEY":[]}],"tags":["Advanced Threat Prevention"],"method":"get","path":"/atp/reports/pcaps","servers":[{"url":"https://api.threatvault.paloaltonetworks.com/service/v1"}],"info":{"version":"1.0","contact":{},"description":"\nThe Advanced Threat Prevention API endpoints require an active subscription to the Advanced Threat Prevention security service. These endpoints can only be accessed using the API key associated with the account that holds the subscription. Attempting to view an unauthorized report ID will not return any results.\n\nList of Advanced Threat Prevention API endpoints:\n1. Link to [Request Advanced Threat Prevention cloud analysis report](/cdss/threat-vault/api/postatpreportsbatchmode)\n2. Link to [Request Advanced Threat Prevention cloud analysis report PCAP](/cdss/threat-vault/api/getatppcaps)\n","title":"Advanced Threat Prevention"},"postman":{"name":"Request Advanced Threat Prevention Report PCAP","description":{"content":"A GET request to retrieve the ATP report sample (packet capture) by report id.\n","type":"text/plain"},"url":{"path":["atp","reports","pcaps"],"host":["{{baseUrl}}"],"query":[{"disabled":false,"description":{"content":"(Required) Retrieve the ATP report sample (packet capture) by report id.\n\n---\n```\ncurl -v -H 'X-API-KEY: API_KEY' \\\n  'https://api.threatvault.paloaltonetworks.com/service/v1/atp/reports/pcaps?id=c25b5d86d8ac77e10376000517491157a07ac008bfc799f08795d59c57e23a50'\n```","type":"text/plain"},"key":"id","value":""}],"variable":[]},"header":[{"key":"Accept","value":"application/octet-stream"}],"method":"GET"}}
sidebar_class_name: "get api-method"
info_path: docs/cdss/threat-vault/api/advanced-threat-prevention
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem"
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Request Advanced Threat Prevention Report PCAP



A GET request to retrieve the ATP report sample (packet capture) by report id.


<details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Query Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"description":"Retrieve the ATP report sample (packet capture) by report id.\n\n---\n```\ncurl -v -H 'X-API-KEY: API_KEY' \\\n  'https://api.threatvault.paloaltonetworks.com/service/v1/atp/reports/pcaps?id=c25b5d86d8ac77e10376000517491157a07ac008bfc799f08795d59c57e23a50'\n```","in":"query","name":"id","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

Request succeeded

</div><details style={{"textAlign":"left","marginBottom":"1rem"}} data-collaposed={false} open={true}><summary style={{}}><strong>Response Headers</strong></summary><ul style={{"marginLeft":"1rem"}}><li class={"schemaItem"}><summary style={{}}><strong>X-Day-RateLimit-Limit</strong><span style={{"opacity":"0.6"}}> integer</span></summary><div><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>Example: 2000

The maximum number of requests that the user is permitted to make per day.

</div></div></li><li class={"schemaItem"}><summary style={{}}><strong>X-Day-RateLimit-Remaining</strong><span style={{"opacity":"0.6"}}> integer</span></summary><div><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The number of requests remaining in the current rate limit window (one day).

</div></div></li><li class={"schemaItem"}><summary style={{}}><strong>X-Day-RateLimit-Reset</strong><span style={{"opacity":"0.6"}}> integer</span></summary><div><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The epoch timestamp at which the current rate limit window (one day) resets.

</div></div></li><li class={"schemaItem"}><summary style={{}}><strong>X-Minute-RateLimit-Limit</strong><span style={{"opacity":"0.6"}}> integer</span></summary><div><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>Example: 200

The maximum number of requests that the user is permitted to make per minute.

</div></div></li><li class={"schemaItem"}><summary style={{}}><strong>X-Minute-RateLimit-Remaining</strong><span style={{"opacity":"0.6"}}> integer</span></summary><div><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The number of requests remaining in the current rate limit window (one minute).

</div></div></li><li class={"schemaItem"}><summary style={{}}><strong>X-Minute-RateLimit-Reset</strong><span style={{"opacity":"0.6"}}> integer</span></summary><div><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The epoch timestamp at which the current rate limit window (one minute) resets.

</div></div></li></ul></details><div><MimeTabs groupId={"mime-type"}><TabItem label={"application/octet-stream"} value={"application/octet-stream"}><SchemaTabs groupId={"schema-tabs"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><li><div><strong>string</strong><span style={{"opacity":"0.6"}}> binary</span></div></li></ul></details></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"4XX"} value={"4XX"}><div>

Certificate related error response

</div><div><MimeTabs groupId={"mime-type"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs groupId={"schema-tabs"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={"Generic response message."} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"success"} required={false} schemaDescription={"The response status."} schemaName={"boolean"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"5XX"} value={"5XX"}><div>

Server related error response

</div><div><MimeTabs groupId={"mime-type"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs groupId={"schema-tabs"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"message"} required={false} schemaDescription={"Generic response message."} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"success"} required={false} schemaDescription={"The response status."} schemaName={"boolean"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>
      