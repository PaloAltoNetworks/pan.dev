components:
  schemas:
    CreateTicketRequest:
      properties:
        description:
          type: string
        feature:
          $ref: '#/components/schemas/Feature'
        integrationId:
          type: string
        issueTypeId:
          type: string
        resourceIds:
          items:
            type: string
          type: array
        settings:
          additionalProperties:
            type: string
          type: object
        summary:
          type: string
        type:
          type: string
      required:
      - resourceIds
      - feature
      - integrationId
      - type
      - issueTypeId
      - summary
      type: object
    DownloadCsvRequest:
      properties:
        service:
          type: string
        userEmail:
          type: string
        userFullName:
          type: string
      required:
      - userFullName
      - userEmail
      - service
      type: object
    Feature:
      enum:
      - ENROLLMENT
      - ACTIVITY
      - LOGOUT
      - IDENTITY_NHI
      - IDENTITY_ACTIVITY
      type: string
    FeatureState:
      properties:
        lastScannedAt:
          $ref: '#/components/schemas/Instant'
        status:
          type: string
      type: object
    IdpInfo:
      properties:
        appType:
          type: string
        displayName:
          type: string
        idpId:
          type: string
      type: object
    Instant:
      example: 2022-03-10 16:15:50+00:00
      format: date-time
      type: string
    ListResponseIdpInfo:
      properties:
        items:
          items:
            $ref: '#/components/schemas/IdpInfo'
          type: array
        total:
          format: int64
          type: integer
      type: object
    ListResponseMapStringObject:
      properties:
        items:
          items:
            type: object
          type: array
        total:
          format: int64
          type: integer
      type: object
    ListResponseMfaActivity:
      properties:
        items:
          items:
            $ref: '#/components/schemas/MfaActivity'
          type: array
        total:
          format: int64
          type: integer
      type: object
    ListResponseSaaSAccount:
      properties:
        items:
          items:
            $ref: '#/components/schemas/SaaSAccount'
          type: array
        total:
          format: int64
          type: integer
      type: object
    ListResponseSaaSActivity:
      properties:
        items:
          items:
            $ref: '#/components/schemas/SaaSActivity'
          type: array
        total:
          format: int64
          type: integer
      type: object
    ListResponseSaaSInstanceInfo:
      properties:
        items:
          items:
            $ref: '#/components/schemas/SaaSInstanceInfo'
          type: array
        total:
          format: int64
          type: integer
      type: object
    ListResponseTicket:
      properties:
        items:
          items:
            $ref: '#/components/schemas/Ticket'
          type: array
        total:
          format: int64
          type: integer
      type: object
    MfaActivity:
      properties:
        admin:
          type: boolean
        appId:
          type: string
        appType:
          type: string
        email:
          type: string
        fullName:
          type: string
        id:
          type: string
        idpId:
          type: string
        idpType:
          type: string
        ipAddress:
          type: string
        location:
          type: string
        mfaFactors:
          type: string
        mfaStrength:
          type: string
        saasProviderMfaType:
          type: string
        tenant:
          type: string
        ticketKey:
          type: string
        ticketUrl:
          type: string
        timestamp:
          $ref: '#/components/schemas/Instant'
        userId:
          type: string
      type: object
    MfaActivityCountByAppType:
      properties:
        appType:
          type: string
        count:
          format: int64
          type: integer
        iconAppType:
          type: string
      type: object
    RemediationRequest:
      properties:
        users:
          items:
            type: string
          type: array
      type: object
    SaaSAccount:
      properties:
        accountName:
          type: string
        accountType:
          type: string
        appId:
          type: string
        appType:
          type: string
        createdTime:
          $ref: '#/components/schemas/Instant'
        creator:
          type: string
        credentialsExpiresAt:
          $ref: '#/components/schemas/Instant'
        email:
          type: string
        githubOrgName:
          type: string
        id:
          type: string
        isElevated:
          type: boolean
        isLocal:
          type: boolean
        isNonHuman:
          type: boolean
        isOrphaned:
          type: boolean
        jobId:
          type: string
        lastCredentialsRotated:
          $ref: '#/components/schemas/Instant'
        lastLoginTime:
          $ref: '#/components/schemas/Instant'
        lastModifiedTime:
          $ref: '#/components/schemas/Instant'
        latestScanTime:
          $ref: '#/components/schemas/Instant'
        linkedHumanAccounts:
          type: string
        roles:
          type: string
        rotatedBy:
          type: string
        saasInstanceId:
          type: string
        saasProviderId:
          type: string
        saasProviderNhiName:
          type: string
        tenant:
          type: string
        ticketKey:
          type: string
        ticketUrl:
          type: string
      type: object
    SaaSActivity:
      properties:
        activityDateTime:
          $ref: '#/components/schemas/Instant'
        activityType:
          type: string
        appType:
          type: string
        clientIP:
          type: string
        createdAt:
          $ref: '#/components/schemas/Instant'
        id:
          type: string
        location:
          type: string
        rawData:
          type: string
        resourceName:
          type: string
        resourceType:
          type: string
        saasInstanceId:
          type: string
        summary:
          type: string
        tenant:
          type: string
        userAgent:
          type: string
        userId:
          type: string
      type: object
    SaaSInstanceInfo:
      properties:
        appType:
          type: string
        displayName:
          type: string
        saasInstanceId:
          type: string
      type: object
    Ticket:
      properties:
        createdAt:
          $ref: '#/components/schemas/Instant'
        feature:
          type: string
        id:
          type: string
        integrationId:
          type: string
        resourceIds:
          type: string
        saasInstanceId:
          type: string
        summary:
          type: string
        tenant:
          type: string
        ticketKey:
          type: string
        ticketUrl:
          type: string
        type:
          type: string
        users:
          type: string
      type: object
    UnlinkTicketRequest:
      properties:
        feature:
          $ref: '#/components/schemas/Feature'
        id:
          type: string
        resourceIds:
          items:
            type: string
          type: array
      required:
      - id
      - feature
      type: object
  securitySchemes:
    Bearer:
      scheme: bearer
      type: http
info:
  contact:
    email: api-team@paloaltonetworks.com
  description: "Auto-generated Incident SSPM OpenAPI documentation \u2013 updated\
    \ on DATE"
  license:
    name: MIT
    url: https://opensource.org/license/mit
  termsOfService: https://www.paloaltonetworks.com/content/dam/pan/en_US/assets/pdf/legal/palo-alto-networks-end-user-license-agreement-eula.pdf
  title: Incident SSPM API
  version: '1.0'
openapi: 3.0.3
paths:
  /sspm/identity/v1/catalog/{appType}:
    get:
      description: Retrieve the apptype.
      parameters:
      - in: path
        name: appType
        required: true
        schema:
          type: string
      - in: query
        name: feature
        schema:
          type: string
      security:
      - Bearer: []
      summary: Get Catalog by AppType
      tags:
      - catalog
  /sspm/identity/v1/idps:
    get:
      description: Retrieve the idps.
      parameters:
      - in: query
        name: designated
        schema:
          type: boolean
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Get All Idps
      tags:
      - idp
    post:
      description: Create the idps.
      parameters:
      - in: query
        name: designated
        schema:
          type: boolean
      - in: query
        name: idpId
        schema:
          type: string
      - in: query
        name: idpType
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Create Idp
      tags:
      - idp
  /sspm/identity/v1/idps/{idpId}/accounts/logout:
    get:
      description: Retrieve the logout.
      parameters:
      - in: path
        name: idpId
        required: true
        schema:
          type: string
      - in: query
        name: batch_id
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Retrieve Idp Account Logout Status
      tags:
      - idp
    post:
      description: Create the logout.
      parameters:
      - in: path
        name: idpId
        required: true
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RemediationRequest'
      security:
      - Bearer: []
      summary: Log Out Idp Account
      tags:
      - idp
  /sspm/identity/v1/idps/{idpId}/feature_state:
    get:
      description: Retrieve the feature state.
      parameters:
      - in: path
        name: idpId
        required: true
        schema:
          type: string
      - in: query
        name: feature
        schema:
          $ref: '#/components/schemas/Feature'
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Get Idp Feature State
      tags:
      - idp
  /sspm/identity/v1/idps/{idpId}/idp_accounts/count:
    get:
      description: Retrieve the count.
      parameters:
      - in: path
        name: idpId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Count Idp Accounts
      tags:
      - idp
  /sspm/identity/v1/idps/{idpId}/idp_accounts/csv_report:
    post:
      description: Create the csv report.
      parameters:
      - in: path
        name: idpId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: query
        name: sortBy
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DownloadCsvRequest'
      security:
      - Bearer: []
      summary: Retrieve CSV report of Idp accounts
      tags:
      - idp
  /sspm/identity/v1/idps/{idpId}/mfa_activity:
    get:
      description: Retrieve the mfa activity.
      parameters:
      - in: path
        name: idpId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: query
        name: limit
        schema:
          format: int32
          type: integer
      - in: query
        name: page
        schema:
          format: int32
          type: integer
      - in: query
        name: sortBy
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Retrieve IDP MFA Activities
      tags:
      - idp
  /sspm/identity/v1/idps/{idpId}/mfa_activity/count:
    get:
      description: Retrieve the count.
      parameters:
      - in: path
        name: idpId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Count IDP MFA Activities
      tags:
      - idp
  /sspm/identity/v1/idps/{idpId}/mfa_activity/count_by_app_type:
    get:
      description: Retrieve the count by app type.
      parameters:
      - in: path
        name: idpId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: query
        name: limit
        schema:
          format: int32
          type: integer
      - in: query
        name: page
        schema:
          format: int32
          type: integer
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Count IDP MFA Activities by AppType
      tags:
      - idp
  /sspm/identity/v1/idps/{idpId}/mfa_activity/csv_report:
    post:
      description: Create the csv report.
      parameters:
      - in: path
        name: idpId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: query
        name: sortBy
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DownloadCsvRequest'
      security:
      - Bearer: []
      summary: Retrieve IDP MFA Activities CSV Report
      tags:
      - idp
  /sspm/identity/v1/saas_instances:
    get:
      description: Retrieve the saas instances.
      parameters:
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Retrieve SAAS Instance List
      tags:
      - saas instance
  /sspm/identity/v1/saas_instances/{saasInstanceId}/saas_accounts:
    get:
      description: Retrieve the saas accounts.
      parameters:
      - in: path
        name: saasInstanceId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: query
        name: limit
        schema:
          format: int32
          type: integer
      - in: query
        name: page
        schema:
          format: int32
          type: integer
      - in: query
        name: sortBy
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Retrieve SAAS Account List
      tags:
      - saas instance
  /sspm/identity/v1/saas_instances/{saasInstanceId}/saas_accounts/count:
    get:
      description: Retrieve the count.
      parameters:
      - in: path
        name: saasInstanceId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Count SAAS Account
      tags:
      - saas instance
  /sspm/identity/v1/saas_instances/{saasInstanceId}/saas_accounts/csv_report:
    post:
      description: Create the csv report.
      parameters:
      - in: path
        name: saasInstanceId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: query
        name: sortBy
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DownloadCsvRequest'
      security:
      - Bearer: []
      summary: Retrieve SAAS Account CSV Report
      tags:
      - saas instance
  /sspm/identity/v1/saas_instances/{saasInstanceId}/saas_activity:
    get:
      description: Retrieve the saas activity.
      parameters:
      - in: path
        name: saasInstanceId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: query
        name: limit
        schema:
          format: int32
          type: integer
      - in: query
        name: page
        schema:
          format: int32
          type: integer
      - in: query
        name: sortBy
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Retrieve SAAS Activity List
      tags:
      - saas instance
  /sspm/identity/v1/{saasInstanceId}/tickets:
    delete:
      description: Delete the tickets.
      parameters:
      - in: path
        name: saasInstanceId
        required: true
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UnlinkTicketRequest'
      security:
      - Bearer: []
      summary: Delete tickets for SAAS Instance
      tags:
      - saas instance
    get:
      description: Retrieve the tickets.
      parameters:
      - in: path
        name: saasInstanceId
        required: true
        schema:
          type: string
      - in: query
        name: filter
        schema:
          type: string
      - in: query
        name: limit
        schema:
          format: int32
          type: integer
      - in: query
        name: page
        schema:
          format: int32
          type: integer
      - in: query
        name: sortBy
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Retrieve Tickets of SAAS Instance
      tags:
      - saas instance
    post:
      description: Create the tickets.
      parameters:
      - in: path
        name: saasInstanceId
        required: true
        schema:
          type: string
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTicketRequest'
      security:
      - Bearer: []
      summary: Create ticket for SAAS Instance
      tags:
      - saas instance
  /sspm/identity/v1/{saasInstanceId}/tickets/{ticketKey}/issues:
    get:
      description: Retrieve the issues.
      parameters:
      - in: path
        name: saasInstanceId
        required: true
        schema:
          type: string
      - in: path
        name: ticketKey
        required: true
        schema:
          type: string
      - in: query
        name: limit
        schema:
          format: int32
          type: integer
      - in: query
        name: page
        schema:
          format: int32
          type: integer
      - in: header
        name: x-ps-tenant
        schema:
          type: string
      security:
      - Bearer: []
      summary: Retrieve Issues of Tickets
      tags:
      - saas instance
servers:
- url: https://api.strata.paloaltonetworks.com
tags:
- description: API endpoints related to catalog
  name: catalog
- description: API endpoints related to idp
  name: idp
- description: API endpoints related to saas instance
  name: saas instance
